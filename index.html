<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CalcHub - Your Daily Calculator Collection</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --background: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Touch-friendly: Ensure minimum tap target size */
        button,
        a,
        input[type="submit"],
        .tool-card,
        .category-nav-item {
            min-height: 44px;
            min-width: 44px;
        }

        /* Touch-friendly: Remove tap highlight on mobile */
        * {
            -webkit-tap-highlight-color: transparent;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Accessibility: Visually hidden but screen reader accessible */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Skip to main content link for keyboard users */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px;
            text-decoration: none;
            z-index: 100;
        }

        .skip-link:focus {
            top: 0;
        }

        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: var(--shadow-lg);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            position: relative;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            flex-shrink: 0;
            color: white;
            text-decoration: none;
            transition: opacity 0.2s;
            cursor: pointer;
            z-index: 1001;
        }

        .logo:hover {
            opacity: 0.9;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
            flex-shrink: 0;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            opacity: 0.9;
            transition: opacity 0.2s;
            white-space: nowrap;
        }

        .nav-links a:hover {
            opacity: 1;
        }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
            background: transparent;
            border: none;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: white;
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(8px, 8px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(7px, -7px);
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 70px;
                right: -100%;
                width: 280px;
                height: calc(100vh - 70px);
                background: linear-gradient(180deg, var(--primary) 0%, var(--primary-dark) 100%);
                flex-direction: column;
                gap: 0;
                padding: 2rem 0;
                box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
                transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
                overflow-y: auto;
            }

            .nav-links.active {
                right: 0;
            }

            .nav-links li {
                width: 100%;
            }

            .nav-links a {
                display: block;
                width: 100%;
                padding: 1rem 2rem;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .hamburger {
                display: flex;
            }
        }

        .category-menu {
            background: rgba(255, 255, 255, 0.1);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            position: sticky;
            top: 70px;
            z-index: 999;
            transition: all 0.3s;
        }

        .category-menu.hidden {
            display: none;
        }

        .category-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            padding: 1rem 0;
        }

        .category-nav-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 50px;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
            font-weight: 500;
            cursor: pointer;
        }

        .category-nav-item:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
        }

        .category-nav-item.active {
            background: rgba(255, 255, 255, 0.35);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }

        .category-icon-small {
            font-size: 1.2rem;
        }

        @media (max-width: 768px) {
            .category-menu {
                top: 64px;
            }

            .category-nav {
                gap: 0.5rem;
            }

            .category-nav-item {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .category-nav-item span:not(.category-icon-small) {
                display: none;
            }

            .category-nav-item {
                padding: 0.5rem;
                min-width: 44px;
            }
        }

        .category-icon-small {
            font-size: 1.2rem;
        }

        .hero {
            text-align: center;
            padding: 3rem 0 2.5rem;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero p {
            font-size: 1.1rem;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto 2rem;
        }

        .hero-search {
            max-width: 600px;
            margin: 0 auto;
            position: relative;
        }

        .hero-search input {
            width: 100%;
            padding: 1rem 3rem 1rem 1.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }

        /* Hide native search input clear button */
        .hero-search input[type="search"]::-webkit-search-cancel-button {
            -webkit-appearance: none;
            appearance: none;
        }

        .hero-search input[type="search"]::-webkit-search-decoration,
        .hero-search input[type="search"]::-webkit-search-results-button,
        .hero-search input[type="search"]::-webkit-search-results-decoration {
            -webkit-appearance: none;
            appearance: none;
        }

        .hero-search input[type="search"]::-ms-clear {
            display: none;
            width: 0;
            height: 0;
        }

        .hero-search input[type="search"]::-ms-reveal {
            display: none;
            width: 0;
            height: 0;
        }

        .hero-search input:focus {
            outline: 3px solid #fbbf24;
            outline-offset: 2px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .hero-search input:focus-visible {
            outline: 3px solid #fbbf24;
            outline-offset: 2px;
        }

        .hero-search input::placeholder {
            color: var(--text-secondary);
        }

        .hero-search .search-controls {
            position: absolute;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            gap: 0;
        }

        .hero-search .clear-search {
            background: transparent;
            color: var(--text-secondary);
            border: none;
            padding: 0.4rem;
            font-size: 1.3rem;
            cursor: pointer;
            transition: all 0.3s;
            display: none;
            line-height: 1;
            position: absolute;
            right: 0;
        }

        .hero-search .clear-search.visible {
            display: block;
        }

        .hero-search .clear-search:hover {
            color: var(--text-primary);
            transform: scale(1.15);
        }

        .hero-search .clear-search:focus {
            outline: 2px solid #fbbf24;
            outline-offset: 2px;
            border-radius: 4px;
        }

        .hero-search .search-icon {
            font-size: 1.2rem;
            color: var(--text-secondary);
            pointer-events: none;
            display: block;
            line-height: 1;
            transition: all 0.3s;
        }

        .hero-search .search-icon.hidden {
            display: none;
        }

        .categories {
            padding: 3rem 0;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 2.5rem;
            text-align: center;
            font-weight: 600;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .category-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 2rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: all 0.3s;
            cursor: pointer;
            text-decoration: none;
            color: var(--text-primary);
            display: block;
        }

        .category-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: var(--primary);
        }

        .category-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .category-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .category-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 1rem;
        }

        .category-list {
            list-style: none;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .category-list li {
            padding: 0.25rem 0;
        }

        .category-list li:before {
            content: "â€¢";
            margin-right: 0.5rem;
            color: var(--primary);
        }

        .popular-tools {
            background: white;
            padding: 4rem 0 5rem;
        }

        @media (max-width: 768px) {
            .popular-tools {
                padding: 3rem 0 4rem;
            }
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.5rem;
            min-height: 350px;
            position: relative;
            padding: 2rem 0;
        }

        .empty-state {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--text-secondary);
            width: calc(100% - 2rem);
            max-width: 500px;
            padding: 3rem 2rem;
            display: none;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
            border: 2px dashed var(--border);
            z-index: 10;
        }

        .empty-state.show {
            display: block;
        }

        .empty-state-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            opacity: 0.4;
            filter: grayscale(0.3);
        }

        .empty-state h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--text-primary);
            font-weight: 600;
        }

        .empty-state p {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-secondary);
        }

        @media (max-width: 768px) {
            .tool-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                min-height: 300px;
                padding: 1.5rem 0;
            }

            .tool-card {
                padding: 1.75rem 1.25rem;
            }

            .tool-icon {
                font-size: 2.25rem;
            }

            .tool-title {
                font-size: 0.95rem;
            }

            .empty-state {
                padding: 2.5rem 1.5rem;
                width: calc(100% - 1rem);
            }

            .empty-state-icon {
                font-size: 3.5rem;
            }

            .empty-state h3 {
                font-size: 1.2rem;
            }

            .empty-state p {
                font-size: 0.95rem;
            }

            .section-title {
                font-size: 1.75rem;
                margin-bottom: 2rem;
            }
        }

        @media (max-width: 480px) {
            .tool-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                min-height: 280px;
                padding: 1.5rem 0;
            }

            .tool-card {
                padding: 2rem 1.5rem;
            }

            .tool-icon {
                font-size: 2.5rem;
            }

            .tool-title {
                font-size: 1rem;
            }

            .empty-state {
                padding: 2rem 1.25rem;
            }

            .empty-state-icon {
                font-size: 3rem;
            }

            .empty-state h3 {
                font-size: 1.15rem;
            }

            .empty-state p {
                font-size: 0.9rem;
            }

            .section-title {
                font-size: 1.5rem;
                margin-bottom: 1.75rem;
            }
        }

        .tool-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 2rem 1.5rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            text-decoration: none;
            color: var(--text-primary);
            animation: fadeIn 0.3s ease-in;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .tool-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(37, 99, 235, 0.05) 0%, rgba(16, 185, 129, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.4s;
            z-index: 0;
        }

        .tool-card:hover::before {
            opacity: 1;
        }

        .tool-card:hover {
            border-color: var(--primary);
            box-shadow: 0 12px 24px rgba(37, 99, 235, 0.15), 0 6px 12px rgba(37, 99, 235, 0.1);
            transform: translateY(-8px) scale(1.02);
        }

        .tool-card:focus {
            outline: 3px solid #fbbf24;
            outline-offset: 3px;
            border-color: var(--primary);
        }

        .tool-card:focus-visible {
            outline: 3px solid #fbbf24;
            outline-offset: 3px;
        }

        .tool-card h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0;
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            line-height: 1.5;
        }

        .tool-card h4::before {
            content: attr(data-icon);
            font-size: 2.5rem;
            display: block;
            margin-bottom: 0.5rem;
            transition: transform 0.3s;
        }

        .tool-card:hover h4::before {
            transform: scale(1.15) translateY(-4px);
        }

        .tool-icon {
            font-size: 2.5rem;
            display: block;
            margin-bottom: 0.75rem;
            transition: transform 0.3s;
        }

        .tool-card:hover .tool-icon {
            transform: scale(1.15) translateY(-4px);
        }

        .tool-title {
            display: block;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .tool-card.hidden {
            display: none;
        }

        .features {
            padding: 4rem 0;
            background: var(--background);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .feature-card h3 {
            font-size: 1.2rem;
            margin-bottom: 0.75rem;
            color: var(--primary);
        }

        .feature-card p {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .footer {
            background: var(--text-primary);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-top: auto;
            width: 100%;
        }

        .footer p {
            opacity: 0.8;
            margin: 0;
        }

        .footer a {
            transition: opacity 0.2s;
        }

        .footer a:hover {
            opacity: 1 !important;
            text-decoration: underline !important;
        }

        /* Ensure body takes full height */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Main content area should grow to push footer down */
        #homePage,
        .calculator-page {
            flex: 1 0 auto;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .nav-links {
                gap: 1rem;
                font-size: 0.9rem;
            }

            .category-nav {
                gap: 0.5rem;
            }

            .category-nav-item {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .category-grid, .tool-grid {
                grid-template-columns: 1fr;
            }

            /* Mobile: Stack form and results */
            .mortgage-calc-layout,
            .age-calc-layout {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            /* Adjust form layouts for mobile */
            .form-row {
                grid-template-columns: 1fr;
            }

            /* Mobile: Reduce padding */
            .calc-main,
            .calc-results {
                padding: 1.5rem;
            }

            .educational-content {
                padding: 2rem 1.5rem;
            }

            .calculator-page {
                padding: 2rem 0;
            }

            /* Mobile: Adjust result cards */
            .result-card {
                padding: 1rem;
            }

            .result-value {
                font-size: 1.8rem;
            }

            .age-display {
                font-size: 2rem !important;
            }

            /* Mobile: Stats grid */
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .stat-value {
                font-size: 1.5rem;
            }

            /* Mobile: Tips grid */
            .tips-grid {
                grid-template-columns: 1fr;
            }

            /* Mobile: Table scrolling */
            .schedule-table-wrapper {
                max-height: 400px;
            }

            /* Mobile: Reduce text sizes */
            .content-section h2 {
                font-size: 1.5rem;
            }

            .content-section h3 {
                font-size: 1.2rem;
            }

            /* Mobile: Input adjustments */
            .input-with-prefix input,
            .input-with-suffix input {
                font-size: 16px; /* Prevents zoom on iOS */
            }

            .hero-search input {
                font-size: 16px; /* Prevents zoom on iOS */
                padding: 0.875rem 3rem 0.875rem 1.25rem;
            }

            .form-group input,
            .form-group select {
                font-size: 16px; /* Prevents zoom on iOS */
            }

            /* Mobile: Button sizing */
            .button-row {
                flex-direction: column;
                gap: 0.75rem;
            }

            .calculate-btn,
            .clear-btn {
                width: 100%;
            }

            /* Mobile: Birthday and milestone cards */
            .birthday-date {
                font-size: 1.2rem;
            }

            .birthday-countdown {
                font-size: 1.8rem;
            }

            .milestone-date {
                font-size: 1.1rem;
            }

            /* Mobile: Section headers */
            .section-header h3 {
                font-size: 0.9rem;
            }

            /* Mobile: Date inputs */
            .date-inputs {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            /* Extra small screens */
            .container {
                padding: 0 1rem;
            }

            .hero {
                padding: 2rem 0 2rem;
            }

            .hero h1 {
                font-size: 1.75rem;
            }

            .hero p {
                font-size: 0.95rem;
            }

            .logo {
                font-size: 1.25rem;
            }

            .nav-links {
                gap: 0.75rem;
                font-size: 0.85rem;
            }

            /* Hide category text on very small screens, keep icons */
            .category-nav-item span:not(.category-icon-small) {
                display: none;
            }

            .category-nav-item {
                padding: 0.5rem;
                min-width: 44px;
            }

            .result-value {
                font-size: 1.5rem;
            }

            .age-display {
                font-size: 1.8rem !important;
            }

            .stat-value {
                font-size: 1.3rem;
            }

            .content-section h2 {
                font-size: 1.3rem;
            }

            .content-section h3 {
                font-size: 1.1rem;
            }

            .result-card.primary-result .result-value {
                font-size: 2rem;
            }

            /* Extra small: Search bar */
            .hero-search input {
                padding: 0.75rem 3rem 0.75rem 1rem;
            }

            .hero-search .clear-search {
                font-size: 1rem;
                padding: 0.35rem;
            }
        }

        .calculator-page {
            display: none;
            padding: 3rem 0;
        }

        .calculator-page.active {
            display: block;
        }

        .mortgage-calc-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .calc-main {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
        }

        .calc-results {
            position: sticky;
            top: 2rem;
            height: fit-content;
        }

        .form-section {
            margin-bottom: 1.5rem;
        }

        .form-section.expandable {
            border: 1px solid var(--border);
            border-radius: 8px;
            overflow: hidden;
        }

        .section-header {
            background: var(--background);
            padding: 1rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            user-select: none;
        }

        .section-header:hover {
            background: #f1f5f9;
        }

        .section-header h3 {
            font-size: 1rem;
            font-weight: 600;
            margin: 0;
        }

        .toggle-icon {
            transition: transform 0.3s;
        }

        .section-header.expanded .toggle-icon {
            transform: rotate(180deg);
        }

        .section-content {
            padding: 1.5rem;
            display: none;
        }

        .section-content.expanded {
            display: block;
        }

        .section-content h4 {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .input-with-prefix,
        .input-with-suffix {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-with-prefix input,
        .input-with-suffix input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
        }

        .input-with-prefix input {
            padding-left: 2rem;
        }

        .input-with-suffix input {
            padding-right: 2.5rem;
        }

        .prefix {
            position: absolute;
            left: 0.75rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .suffix {
            position: absolute;
            right: 0.75rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .date-inputs {
            display: flex;
            gap: 0.5rem;
        }

        .date-inputs select,
        .date-inputs input {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
        }

        .button-row {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .calculate-btn {
            flex: 1;
            padding: 1rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .calculate-btn:hover {
            background: var(--primary-dark);
        }

        .clear-btn {
            padding: 1rem 2rem;
            background: white;
            color: var(--text-secondary);
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .clear-btn:hover {
            background: var(--background);
            border-color: var(--text-secondary);
        }

        .note {
            margin-top: 1rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            font-style: italic;
        }

        .result-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 1rem;
        }

        .result-card.primary-result {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
        }

        .result-card.primary-result h3 {
            color: white;
            opacity: 0.9;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .result-card.primary-result .result-value {
            color: white;
            font-size: 2.5rem;
        }

        .result-card h4 {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border);
        }

        .result-row:last-child {
            border-bottom: none;
        }

        .result-row.highlight {
            background: var(--background);
            margin: 0 -1.5rem;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
        }

        .result-row span {
            color: var(--text-secondary);
        }

        .result-row strong {
            color: var(--text-primary);
        }

        .schedule-btn {
            width: 100%;
            padding: 1rem;
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .schedule-btn:hover {
            background: var(--primary);
            color: white;
        }

        .schedule-section {
            margin-top: 2rem;
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .schedule-section h3 {
            margin-bottom: 1rem;
        }

        .schedule-table-wrapper {
            overflow-x: auto;
            max-height: 500px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            border-radius: 8px;
        }

        .schedule-table-wrapper::-webkit-scrollbar {
            height: 8px;
            width: 8px;
        }

        .schedule-table-wrapper::-webkit-scrollbar-track {
            background: var(--background);
        }

        .schedule-table-wrapper::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 4px;
        }

        .schedule-table-wrapper::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .schedule-table thead {
            position: sticky;
            top: 0;
            background: var(--background);
            z-index: 10;
        }

        .schedule-table th {
            text-align: left;
            padding: 0.75rem;
            font-weight: 600;
            border-bottom: 2px solid var(--border);
        }

        .schedule-table td {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border);
        }

        .schedule-table tbody tr:hover {
            background: var(--background);
        }

        .educational-content {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            margin-top: 3rem;
        }

        /* Beam Calculator Styles */
        .beam-diagram {
            background: #f8fafc;
            border-radius: 12px;
            padding: 2rem;
            margin-top: 1rem;
            border: 2px solid #e2e8f0;
            min-height: 200px;
        }

        .load-inputs {
            margin-top: 1rem;
            padding: 1.5rem;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid var(--primary);
        }

        .input-with-suffix {
            position: relative;
            display: flex;
            align-items: center;
        }

        .input-with-suffix input {
            flex: 1;
            padding-right: 60px;
        }

        .input-with-suffix .suffix {
            position: absolute;
            right: 1rem;
            color: var(--text-secondary);
            font-weight: 600;
            pointer-events: none;
            background: white;
            padding: 0 0.25rem;
        }

        .content-section h2 {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: var(--text-primary);
        }

        .content-section h3 {
            font-size: 1.3rem;
            margin: 2rem 0 1rem;
            color: var(--text-primary);
        }

        .content-section p {
            margin-bottom: 1rem;
            line-height: 1.7;
            color: var(--text-secondary);
        }

        .content-section ul {
            margin: 1rem 0 1.5rem 1.5rem;
            line-height: 1.8;
        }

        .content-section li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .tip-card {
            background: var(--background);
            padding: 2rem;
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }

        .tip-card h4 {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .tip-card p {
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .faq-section {
            margin-top: 3rem;
        }

        .faq-section h3 {
            font-size: 1.5rem;
            margin-bottom: 2rem;
        }

        .faq-item {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }

        .faq-item:last-child {
            border-bottom: none;
        }

        .faq-item h4 {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        .faq-item p {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* Age Calculator Specific Styles */
        .age-calc-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .field-note {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin: -0.25rem 0 0.5rem;
        }

        .age-display {
            font-size: 3rem !important;
            line-height: 1.2;
        }

        .age-detail {
            font-size: 1.1rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .birthday-card {
            text-align: center;
        }

        .birthday-date {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0.5rem 0;
        }

        .birthday-countdown {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin: 0.5rem 0;
        }

        .days-left {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .milestone-card {
            text-align: center;
        }

        .milestone-text {
            font-size: 0.95rem;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
        }

        .milestone-date {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            text-align: center;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }

        .content-section ol {
            margin: 1rem 0 1.5rem 1.5rem;
            line-height: 1.8;
        }

        /* Favorites Page Styles */
        .favorites-header {
            text-align: center;
            padding: 3rem 0 2rem;
        }

        .favorites-header h2 {
            font-size: 2.5rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .favorites-header p {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .empty-favorites {
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow);
            display: none;
        }

        .empty-favorites.show {
            display: block;
        }

        .empty-favorites-icon {
            font-size: 5rem;
            margin-bottom: 1.5rem;
            opacity: 0.4;
        }

        .empty-favorites h3 {
            font-size: 1.8rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .empty-favorites p {
            font-size: 1.1rem;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 2rem;
        }

        /* Favorite Button Styles */
        .favorite-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .favorite-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .favorite-btn.favorited {
            background: var(--primary);
            color: white;
        }

        .favorite-btn .star-icon {
            font-size: 1.2rem;
            transition: transform 0.3s;
        }

        .favorite-btn.favorited .star-icon {
            animation: starPop 0.3s ease;
        }

        @keyframes starPop {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.3);
            }
        }

        .remove-favorite {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(220, 38, 38, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }

        .remove-favorite:hover {
            background: rgba(220, 38, 38, 1);
            transform: scale(1.1);
        }

        .tool-card.favorite {
            position: relative;
        }

        /* Calculator Not Found Page Styles */
        .not-found-container {
            max-width: 800px;
            margin: 4rem auto;
            padding: 3rem;
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            text-align: center;
        }

        .not-found-icon {
            font-size: 6rem;
            margin-bottom: 2rem;
            opacity: 0.6;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 0.6;
                transform: scale(1);
            }
            50% {
                opacity: 0.8;
                transform: scale(1.05);
            }
        }

        .not-found-title {
            font-size: 2.5rem;
            color: var(--text-primary);
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .not-found-text {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 3rem;
            line-height: 1.6;
        }

        .not-found-suggestions {
            margin: 3rem 0;
            padding: 2rem;
            background: var(--background);
            border-radius: 12px;
        }

        .not-found-suggestions h3 {
            font-size: 1.3rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
        }

        .suggestion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .suggestion-card {
            background: white;
            padding: 1.5rem 1rem;
            border-radius: 12px;
            border: 2px solid var(--border);
            text-decoration: none;
            color: var(--text-primary);
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
        }

        .suggestion-card:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(37, 99, 235, 0.15);
        }

        .suggestion-icon {
            font-size: 2.5rem;
        }

        .suggestion-name {
            font-size: 0.95rem;
            font-weight: 600;
            text-align: center;
        }

        .home-btn {
            padding: 1rem 2.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 2rem;
        }

        .home-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(37, 99, 235, 0.2);
        }

        @media (max-width: 768px) {
            .not-found-container {
                margin: 2rem auto;
                padding: 2rem 1.5rem;
            }

            .not-found-icon {
                font-size: 4rem;
            }

            .not-found-title {
                font-size: 2rem;
            }

            .not-found-text {
                font-size: 1.05rem;
            }

            .suggestion-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .not-found-container {
                margin: 1.5rem auto;
                padding: 1.5rem 1rem;
            }

            .not-found-icon {
                font-size: 3.5rem;
            }

            .not-found-title {
                font-size: 1.75rem;
            }

            .not-found-text {
                font-size: 1rem;
            }

            .suggestion-grid {
                grid-template-columns: 1fr;
            }

            .home-btn {
                width: 100%;
                padding: 1rem;
            }
        }

        /* Percentage Calculator Specific Styles */
        .percentage-calc-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .percentage-calc-card {
            background: white;
            padding: 2.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
            margin-bottom: 2rem;
            transition: all 0.3s;
        }

        .percentage-calc-card:hover {
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .percentage-calc-card h3 {
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            line-height: 1.6;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 0.5rem;
        }

        .inline-input {
            width: 100px;
            padding: 0.5rem 0.75rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            transition: all 0.3s;
            background: var(--background);
        }

        .inline-input:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .inline-input:hover {
            border-color: var(--primary);
        }

        .calc-inline-btn {
            padding: 0.75rem 2rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .calc-inline-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(37, 99, 235, 0.3);
        }

        .calc-inline-btn:active {
            transform: translateY(0);
        }

        .inline-result {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-left: 4px solid var(--primary);
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .result-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .result-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .result-number.increase {
            color: #16a34a;
        }

        .result-number.decrease {
            color: #dc2626;
        }

        .calc-explanation {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            font-style: italic;
        }

        .tip-text {
            text-align: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin: 2rem 0;
            padding: 1rem;
            background: var(--background);
            border-radius: 8px;
        }

        @media (max-width: 768px) {
            .percentage-calc-card {
                padding: 1.5rem;
            }

            .percentage-calc-card h3 {
                font-size: 1.1rem;
            }

            .inline-input {
                width: 80px;
                font-size: 1rem;
                padding: 0.4rem 0.5rem;
            }

            .result-number {
                font-size: 1.5rem;
            }

            .inline-result {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
        }

        @media (max-width: 480px) {
            .percentage-calc-card h3 {
                font-size: 1rem;
            }

            .inline-input {
                width: 70px;
                font-size: 0.95rem;
            }

            .result-number {
                font-size: 1.3rem;
            }

            .calc-inline-btn {
                width: 100%;
                padding: 0.875rem;
            }
        }

        @media (max-width: 1024px) {
            .mortgage-calc-layout,
            .age-calc-layout {
                grid-template-columns: 1fr;
            }

            .calc-results {
                position: static;
            }
        }

        .calc-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
        }

        .calc-header {
            margin-bottom: 2rem;
        }

        .calc-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        .calc-header p {
            color: var(--text-secondary);
        }

        .back-btn {
            display: inline-block;
            margin-bottom: 1.5rem;
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .back-btn:hover {
            text-decoration: underline;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .calculate-btn {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }

        .calculate-btn:hover {
            background: var(--primary-dark);
        }

        .result {
            margin-top: 2rem;
            padding: 1.5rem;
            background: #f0f9ff;
            border-left: 4px solid var(--primary);
            border-radius: 8px;
            display: none;
        }

        .result.show {
            display: block;
        }

        .result h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .result-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .result-details {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }

        .result-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
        }
    </style>
</head>
<body>
    <a href="#mainContent" class="skip-link">Skip to main content</a>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="#" class="logo" onclick="showHome(); return false;">ðŸ“Š CalcHub</a>
                <button class="hamburger" id="hamburger" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-links" id="navLinks">
                    <li><a href="#" onclick="showHome(); closeMenu(); return false;">Home</a></li>
                    <li><a href="#" onclick="closeMenu();">Dashboard</a></li>
                    <li><a href="#" onclick="showFavorites(); closeMenu(); return false;">Favorites</a></li>
                </ul>
            </nav>
        </div>
        <div class="category-menu">
            <div class="container">
                <div class="category-nav">
                    <a href="#" class="category-nav-item active" data-category="all" onclick="filterCategory('all'); return false;">
                        <span class="category-icon-small">ðŸ“±</span>
                        <span>All</span>
                    </a>
                    <a href="#" class="category-nav-item" data-category="finance" onclick="filterCategory('finance'); return false;">
                        <span class="category-icon-small">ðŸ’°</span>
                        <span>Finance</span>
                    </a>
                    <a href="#" class="category-nav-item" data-category="health" onclick="filterCategory('health'); return false;">
                        <span class="category-icon-small">â¤ï¸</span>
                        <span>Health</span>
                    </a>
                    <a href="#" class="category-nav-item" data-category="everyday" onclick="filterCategory('everyday'); return false;">
                        <span class="category-icon-small">ðŸ“…</span>
                        <span>Everyday Life</span>
                    </a>
                    <a href="#" class="category-nav-item" data-category="converters" onclick="filterCategory('converters'); return false;">
                        <span class="category-icon-small">ðŸ”„</span>
                        <span>Converters</span>
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div id="homePage">
        <section class="hero" id="mainContent">
            <div class="container">
                <h1>Find the Calculator You Need</h1>
                <p>Browse our growing library of accurate, lightweight calculators across finance, health, productivity, and more.</p>
                <div class="hero-search" role="search">
                    <label for="searchInput" class="visually-hidden">Search for calculators</label>
                    <input 
                        type="search" 
                        id="searchInput" 
                        placeholder="Search calculators..."
                        aria-label="Search for calculators"
                        aria-describedby="searchDescription"
                        autocomplete="off"
                    >
                    <span id="searchDescription" class="visually-hidden">Type to filter calculators by name or category</span>
                    <div class="search-controls">
                        <button 
                            class="clear-search" 
                            id="clearSearch" 
                            onclick="clearSearch()"
                            aria-label="Clear search"
                            title="Clear search"
                            tabindex="-1"
                        >
                            âœ•
                        </button>
                        <span class="search-icon" id="searchIcon" aria-hidden="true">ðŸ”</span>
                    </div>
                    <div 
                        id="searchResults" 
                        class="visually-hidden" 
                        role="status" 
                        aria-live="polite" 
                        aria-atomic="true"
                    ></div>
                </div>
            </div>
        </section>

        <section class="popular-tools">
            <div class="container">
                <h2 class="section-title">Popular Tools</h2>
                <div class="tool-grid" id="toolGrid">
                    <a href="#" class="tool-card" data-category="finance" onclick="showCalculator('mortgage'); return false;">
                        <span class="tool-icon">ðŸ </span>
                        <h4><span class="tool-title">Mortgage Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="health" onclick="showCalculator('bmi'); return false;">
                        <span class="tool-icon">âš–ï¸</span>
                        <h4><span class="tool-title">BMI Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="everyday" onclick="showCalculator('age'); return false;">
                        <span class="tool-icon">ðŸŽ‚</span>
                        <h4><span class="tool-title">Age Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="finance" onclick="showCalculator('loan'); return false;">
                        <span class="tool-icon">ðŸ’³</span>
                        <h4><span class="tool-title">Loan Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="everyday" onclick="showCalculator('tip'); return false;">
                        <span class="tool-icon">ðŸ’µ</span>
                        <h4><span class="tool-title">Tip Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="everyday" onclick="showCalculator('percentage'); return false;">
                        <span class="tool-icon">ðŸ“Š</span>
                        <h4><span class="tool-title">Percentage Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="everyday" onclick="showCalculator('discount'); return false;">
                        <span class="tool-icon">ðŸ·ï¸</span>
                        <h4><span class="tool-title">Discount Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="health" onclick="showCalculator('calorie'); return false;">
                        <span class="tool-icon">ðŸŽ</span>
                        <h4><span class="tool-title">Calorie Calculator</span></h4>
                    </a>
                    <a href="#" class="tool-card" data-category="converters" onclick="showCalculator('beam'); return false;">
                        <span class="tool-icon">ðŸ“</span>
                        <h4><span class="tool-title">Simple Beam Calculator</span></h4>
                    </a>
                    <div class="empty-state" id="emptyState">
                        <div class="empty-state-icon">ðŸ”</div>
                        <h3>No calculators found</h3>
                        <p>Try selecting a different category or adjusting your search.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <h2 class="section-title">Trustworthy Tools, Built for You</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <h3>ðŸŽ¯ Fast & Lightweight</h3>
                        <p>Optimized for speed. Our tools load instantly on any device or connection, respecting your battery and data plan.</p>
                    </div>
                    <div class="feature-card">
                        <h3>ðŸ”’ 100% Private</h3>
                        <p>Your financial and health data stays on your device. We use local storage, so your inputs never leave your browser.</p>
                    </div>
                    <div class="feature-card">
                        <h3>âœ¨ Smart Presets</h3>
                        <p>Don't re-type data. Save specific scenarios as named presets to update later.</p>
                    </div>
                    <div class="feature-card">
                        <h3>ðŸ’¡ Clarity & Trust</h3>
                        <p>No clutter, no confusing jargon. Just straightforward, verified algorithms that give you the right answer, every time.</p>
                    </div>
                    <div class="feature-card">
                        <h3>â­ Favorites</h3>
                        <p>Build your own toolbox. Save frequently used calculators for one-click access.</p>
                    </div>
                    <div class="feature-card">
                        <h3>ðŸ“Š Personal Dashboard</h3>
                        <p>View automatic calculation history, track recent activity, and revisit past results instantly.</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Calculator Pages -->
    <div id="mortgageCalc" class="calculator-page">
        <div class="container">
            <a href="#" class="back-btn" onclick="showHome(); return false;">â† Back to Home</a>
            <div class="mortgage-calc-layout">
                <div class="calc-main">
                    <div class="calc-header">
                        <h2>ðŸ  Mortgage Calculator Fixed-Rate</h2>
                        <p>Modify the values and see the instant mortgage results</p>
                        <button class="favorite-btn" id="favBtn-mortgage" onclick="toggleFavorite('mortgage', 'ðŸ  Mortgage Calculator')">
                            <span class="star-icon">â˜†</span>
                            <span class="fav-text">Add to Favorites</span>
                        </button>
                    </div>
                    
                    <form id="mortgageForm" onsubmit="calculateMortgage(event)">
                        <!-- Basic Info -->
                        <div class="form-section">
                            <div class="form-group">
                                <label for="homePrice">Home Price</label>
                                <div class="input-with-prefix">
                                    <span class="prefix">$</span>
                                    <input type="number" id="homePrice" required min="1" step="1000" value="300000">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="downPaymentPercent">Down Payment</label>
                                    <div class="input-with-suffix">
                                        <input type="number" id="downPaymentPercent" required min="0" max="100" step="0.1" value="20">
                                        <span class="suffix">%</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>&nbsp;</label>
                                    <div class="input-with-prefix">
                                        <span class="prefix">$</span>
                                        <input type="number" id="downPaymentDollar" required min="0" step="1000" value="60000">
                                    </div>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="loanTerm">Loan Term</label>
                                    <div class="input-with-suffix">
                                        <input type="number" id="loanTerm" required min="1" max="50" step="1" value="30">
                                        <span class="suffix">years</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="interestRate">Interest Rate (Fixed)</label>
                                    <div class="input-with-suffix">
                                        <input type="number" id="interestRate" required min="0" step="0.01" value="6.5">
                                        <span class="suffix">%</span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="startMonth">Start Date</label>
                                <div class="date-inputs">
                                    <select id="startMonth">
                                        <option value="0">Jan</option>
                                        <option value="1">Feb</option>
                                        <option value="2">Mar</option>
                                        <option value="3">Apr</option>
                                        <option value="4">May</option>
                                        <option value="5">Jun</option>
                                        <option value="6">Jul</option>
                                        <option value="7">Aug</option>
                                        <option value="8">Sep</option>
                                        <option value="9">Oct</option>
                                        <option value="10">Nov</option>
                                        <option value="11">Dec</option>
                                    </select>
                                    <input type="number" id="startYear" min="2020" max="2050" value="2026">
                                </div>
                            </div>
                        </div>

                        <!-- Taxes & Costs -->
                        <div class="form-section expandable">
                            <div class="section-header" onclick="toggleSection('taxSection')">
                                <h3>Include Taxes & Costs Below</h3>
                                <span class="toggle-icon">â–¼</span>
                            </div>
                            <div id="taxSection" class="section-content">
                                <h4>Annual Tax & Cost</h4>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="propertyTax">Property Tax</label>
                                        <div class="input-with-prefix">
                                            <span class="prefix">$</span>
                                            <input type="number" id="propertyTax" min="0" step="100" value="3000">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <div class="input-with-suffix">
                                            <input type="number" id="propertyTaxPercent" min="0" step="0.01" value="1">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="homeIns">Home Ins.</label>
                                        <div class="input-with-prefix">
                                            <span class="prefix">$</span>
                                            <input type="number" id="homeIns" min="0" step="100" value="1200">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <div class="input-with-suffix">
                                            <input type="number" id="homeInsPercent" min="0" step="0.01" value="0.4">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="pmiPercent">PMI</label>
                                        <div class="input-with-suffix">
                                            <input type="number" id="pmiPercent" min="0" step="0.01" value="0.5">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <div class="input-with-prefix">
                                            <span class="prefix">$</span>
                                            <input type="number" id="pmi" min="0" step="10" value="100">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="hoaFee">HOA Fee</label>
                                        <div class="input-with-prefix">
                                            <span class="prefix">$</span>
                                            <input type="number" id="hoaFee" min="0" step="10" value="0">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <div class="input-with-suffix">
                                            <input type="number" id="hoaFeePercent" min="0" step="0.01" value="0">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="otherCosts">Other Costs</label>
                                        <div class="input-with-prefix">
                                            <span class="prefix">$</span>
                                            <input type="number" id="otherCosts" min="0" step="10" value="0">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>&nbsp;</label>
                                        <div class="input-with-suffix">
                                            <input type="number" id="otherCostsPercent" min="0" step="0.01" value="0">
                                            <span class="suffix">%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="button-row">
                            <button type="submit" class="calculate-btn">CALCULATE</button>
                            <button type="button" class="clear-btn" onclick="clearMortgageForm()">Clear</button>
                        </div>
                    </form>

                    <p class="note">* Currently supports fixed-rate mortgages only.</p>
                </div>

                <!-- Results Section -->
                <div class="calc-results" id="mortgageResults" style="display: none;">
                    <div class="result-card primary-result">
                        <h3>Monthly Pay</h3>
                        <div class="result-value" id="monthlyPayDisplay">$0.00</div>
                    </div>

                    <div class="result-card breakdown">
                        <h4>Monthly</h4>
                        <div class="result-row">
                            <span>Principal & Interest</span>
                            <strong id="monthlyPI">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Property Tax</span>
                            <strong id="monthlyTax">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Home Insurance</span>
                            <strong id="monthlyIns">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>PMI</span>
                            <strong id="monthlyPMI">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>HOA / Other</span>
                            <strong id="monthlyOther">$0</strong>
                        </div>
                    </div>

                    <div class="result-card totals">
                        <div class="result-row highlight">
                            <span>Total Out-of-Pocket</span>
                            <strong id="totalOutOfPocket">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Loan Amount</span>
                            <strong id="loanAmountDisplay">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Down Payment</span>
                            <strong id="downPaymentDisplay">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Total Interest</span>
                            <strong id="totalInterestDisplay">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Total Principal & Int.</span>
                            <strong id="totalPrincipalInt">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Total Tax</span>
                            <strong id="totalTaxDisplay">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Total Insurance</span>
                            <strong id="totalInsDisplay">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Total PMI / Fees</span>
                            <strong id="totalPMIFees">$0 / $0</strong>
                        </div>
                        <div class="result-row highlight">
                            <span>Total All-in Cost</span>
                            <strong id="totalAllIn">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Payoff Date</span>
                            <strong id="payoffDate">-</strong>
                        </div>
                    </div>

                    <button class="schedule-btn" onclick="toggleSchedule()">View Amortization Schedule</button>

                    <div id="scheduleSection" class="schedule-section" style="display: none;">
                        <h3>Amortization Schedule</h3>
                        <div class="schedule-table-wrapper">
                            <table class="schedule-table">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Interest</th>
                                        <th>Principal</th>
                                        <th>Balance</th>
                                    </tr>
                                </thead>
                                <tbody id="scheduleBody">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Educational Content -->
            <div class="educational-content">
                <section class="content-section">
                    <h2>Mortgage Calculation Guide</h2>
                    
                    <h3>What is a Mortgage?</h3>
                    <p>A mortgage is a loan specifically designed for purchasing a home or other real estate. The property itself serves as collateral for the loan. Buying a home is likely the biggest purchase of your life, and our free Mortgage Calculator helps you estimate your total monthly payment for 2025 and beyond.</p>
                    <p>By factoring in property taxes, homeowners insurance, and PMI, you get a realistic picture of your true housing costs. Use this tool to compare different loan scenarios, see how a larger down payment affects your wallet, and plan for a financially secure future.</p>

                    <h3>What is PITI?</h3>
                    <p>Lenders use the acronym <strong>PITI</strong> to describe the four main components of your monthly mortgage bill:</p>
                    <ul>
                        <li><strong>Principal:</strong> The money that goes directly toward paying down your loan balance.</li>
                        <li><strong>Interest:</strong> The fee the lender charges you for borrowing the money. In the beginning, this makes up most of your payment.</li>
                        <li><strong>Taxes:</strong> Property taxes levied by your local government to fund schools and services.</li>
                        <li><strong>Insurance:</strong> Homeowners insurance protects your home from damage. If you put less than 20% down, this may also include PMI (Private Mortgage Insurance).</li>
                    </ul>

                    <h3>Smart Strategies</h3>
                    <ul>
                        <li><strong>Avoid PMI:</strong> A down payment of 20% or more typically removes the need for private mortgage insurance.</li>
                        <li><strong>15 vs. 30 Year:</strong> A 30-year term offers lower monthly bills, while a 15-year term saves massive amounts on total interest.</li>
                        <li><strong>Extra Payments:</strong> Even adding $50/month to your principal can shave years off your loan term.</li>
                    </ul>
                </section>

                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>Costs of Ownership</h4>
                        <p><strong>Closing Costs:</strong> Expect to pay 2% - 5% of purchase price upfront ($8k-$20k on $400k).</p>
                        <p><strong>Maintenance:</strong> Save 1% - 3% of home value annually for repairs ($4k/yr on $400k).</p>
                        <p><strong>Utilities:</strong> Avg. $400/mo for electric, gas, water, trash & internet.</p>
                    </div>

                    <div class="tip-card">
                        <h4>Lower Your Payment</h4>
                        <p><strong>More Down Payment:</strong> Every $10k down saves ~$60/mo in interest & principle.</p>
                        <p><strong>Eliminate PMI:</strong> Reach 20% equity to drop insurance ($30-$70/mo per $100k).</p>
                        <p><strong>Shop Insurance:</strong> Rates vary by hundreds. Compare quotes annually to save.</p>
                    </div>
                </div>

                <section class="faq-section">
                    <h3>Frequently Asked Questions</h3>
                    
                    <div class="faq-item">
                        <h4>Do I really need a 20% down payment?</h4>
                        <p>No. While 20% avoids Private Mortgage Insurance (PMI), many lenders accept as little as 3% - 3.5% for conventional or FHA loans. However, a lower down payment usually means a higher monthly payment.</p>
                    </div>

                    <div class="faq-item">
                        <h4>What is included in my monthly payment?</h4>
                        <p>Your total payment typically includes Principal and Interest (the loan itself), plus Escrow items like Property Taxes and Homeowners Insurance. If your down payment is under 20%, it may also include PMI.</p>
                    </div>

                    <div class="faq-item">
                        <h4>How can I pay off my mortgage faster?</h4>
                        <p>Making extra payments toward your principal balance reduces total interest. Even one extra payment per year can shave years off a 30-year term.</p>
                    </div>

                    <div class="faq-item">
                        <h4>Should I choose a 15-year or 30-year term?</h4>
                        <p>A 30-year loan offers lower monthly payments, making it easier to qualify. A 15-year loan has higher monthly payments but saves you tens of thousands of dollars in interest over the life of the loan.</p>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <div id="bmiCalc" class="calculator-page">
        <div class="container">
            <a href="#" class="back-btn" onclick="showHome(); return false;">â† Back to Home</a>
            <div class="calc-container">
                <div class="calc-header">
                    <h2>âš–ï¸ BMI Calculator</h2>
                    <p>Calculate your Body Mass Index and health category.</p>
                    <button class="favorite-btn" id="favBtn-bmi" onclick="toggleFavorite('bmi', 'âš–ï¸ BMI Calculator')">
                        <span class="star-icon">â˜†</span>
                        <span class="fav-text">Add to Favorites</span>
                    </button>
                </div>
                <form onsubmit="calculateBMI(event)">
                    <div class="form-group">
                        <label for="weight">Weight (lbs)</label>
                        <input type="number" id="weight" required min="1" step="0.1" value="150">
                    </div>
                    <div class="form-group">
                        <label for="height">Height (inches)</label>
                        <input type="number" id="height" required min="1" step="0.1" value="65">
                    </div>
                    <button type="submit" class="calculate-btn">Calculate BMI</button>
                </form>
                <div id="bmiResult" class="result">
                    <h3>Your BMI</h3>
                    <div class="result-value" id="bmiValue">0</div>
                    <div class="result-details">
                        <div class="result-row">
                            <span>Category:</span>
                            <strong id="bmiCategory">-</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="ageCalc" class="calculator-page">
        <div class="container">
            <a href="#" class="back-btn" onclick="showHome(); return false;">â† Back to Home</a>
            <div class="age-calc-layout">
                <div class="calc-main">
                    <div class="calc-header">
                        <h2>ðŸŽ‚ Age Calculator</h2>
                        <p>Calculate your exact chronological age</p>
                        <button class="favorite-btn" id="favBtn-age" onclick="toggleFavorite('age', 'ðŸŽ‚ Age Calculator')">
                            <span class="star-icon">â˜†</span>
                            <span class="fav-text">Add to Favorites</span>
                        </button>
                    </div>
                    
                    <form id="ageForm" onsubmit="calculateAge(event)">
                        <div class="form-group">
                            <label for="birthDate">Date of Birth</label>
                            <input type="date" id="birthDate" required>
                        </div>

                        <div class="form-group">
                            <label for="ageAtDate">Age at Date (Optional)</label>
                            <p class="field-note">Defaults to Today</p>
                            <input type="date" id="ageAtDate">
                        </div>

                        <div class="button-row">
                            <button type="submit" class="calculate-btn">CALCULATE AGE</button>
                            <button type="button" class="clear-btn" onclick="resetAgeToToday()">Reset to Today</button>
                        </div>
                    </form>
                </div>

                <!-- Results Section -->
                <div class="calc-results" id="ageResults" style="display: none;">
                    <div class="result-card primary-result">
                        <h3>Your Age</h3>
                        <div class="result-value age-display" id="ageDisplay">--</div>
                    </div>

                    <div class="result-card">
                        <h4>In Detail</h4>
                        <div class="age-detail" id="ageDetail">Enter your birth date</div>
                    </div>

                    <div class="result-card birthday-card">
                        <h4>Next Birthday</h4>
                        <div class="birthday-date" id="nextBirthday">--</div>
                        <div class="birthday-countdown" id="birthdayCountdown">--</div>
                        <div class="days-left" id="daysLeft">days left</div>
                    </div>

                    <div class="result-card milestone-card">
                        <h4>Next Milestone</h4>
                        <div class="milestone-text" id="milestoneText">You will turn -- days old on:</div>
                        <div class="milestone-date" id="milestoneDate">--</div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Total Weeks</div>
                            <div class="stat-value" id="totalWeeks">--</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Days</div>
                            <div class="stat-value" id="totalDays">--</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Hours</div>
                            <div class="stat-value" id="totalHours">--</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Total Mins</div>
                            <div class="stat-value" id="totalMins">--</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Educational Content -->
            <div class="educational-content">
                <section class="content-section">
                    <h2>Understanding Your Age</h2>
                    
                    <h3>What is Chronological Age?</h3>
                    <p>Chronological age is the exact amount of time that has passed from your birth to a given date. While it seems simple, counting it precisely involves navigating calendar quirks like <strong>Leap Years</strong> (which occur every 4 years) and varying month lengths (28, 30, or 31 days).</p>
                    <p>This tool calculates age based on the Gregorian calendar, the most widely used civil calendar system in the world.</p>

                    <h3>Why Calculate Exact Age?</h3>
                    <div class="tips-grid">
                        <div class="tip-card">
                            <h4>Administrative & Legal</h4>
                            <p>Checking eligibility for driving licenses (16+), voting (18+), or retirement benefits (65+).</p>
                        </div>

                        <div class="tip-card">
                            <h4>Medical Metrics</h4>
                            <p>Doctors use precise age (in months) for infant growth charts and to calculate accurate BMI percentiles.</p>
                        </div>

                        <div class="tip-card">
                            <h4>Education & School</h4>
                            <p>Determining school grade admission based on "age cut-off" dates (e.g., must be 5 by September 1st).</p>
                        </div>

                        <div class="tip-card">
                            <h4>Fun & Milestones</h4>
                            <p>Finding out exactly how many days you've been alive or planning a "10,000th Day" party.</p>
                        </div>
                    </div>

                    <h3>The Math Behind It</h3>
                    <p>Calculating age manually can be tricky:</p>
                    <ol>
                        <li>Subtract birth year from current year.</li>
                        <li>If current month &lt; birth month, subtract 1 from years.</li>
                        <li>If current month = birth month but current day &lt; birth day, subtract 1 from years.</li>
                        <li>Calculate remaining months and days, adjusting for the previous month's total days (28, 30, or 31).</li>
                    </ol>

                    <h3>Did You Know?</h3>
                    <ul>
                        <li><strong>Time Perception:</strong> As you age, time feels faster because each year represents a smaller percentage of your life (Weber-Fechner Law).</li>
                        <li><strong>Cell Regeneration:</strong> Your body replaces most of its cells every 7 to 10 years, meaning you are constantly "renewing."</li>
                        <li><strong>Golden Birthdays:</strong> A "Golden Birthday" occurs when your age matches the day you were born (e.g., turning 25 on the 25th).</li>
                    </ul>
                </section>

                <section class="content-section">
                    <h3>Common Legal Milestones (US)</h3>
                    <ul>
                        <li>Driving Age (Permit): 15-16</li>
                        <li>Voting Age: 18</li>
                        <li>Rental Car Age: 25</li>
                        <li>Retirement Benefits: 62-67</li>
                    </ul>
                </section>

                <section class="faq-section">
                    <h3>Frequently Asked Questions</h3>
                    
                    <div class="faq-item">
                        <h4>Can I calculate age for a future date?</h4>
                        <p>Yes. Changing the "Age at Date" field allows you to see how old you (or someone else) will be at a future event, like a graduation in 2030.</p>
                    </div>

                    <div class="faq-item">
                        <h4>What if I was born on February 29?</h4>
                        <p>If you are a "Leapling," your birthday technically occurs only every 4 years. In non-leap years, most legal systems consider you a year older on March 1st.</p>
                    </div>

                    <div class="faq-item">
                        <h4>Why is the total weeks count useful?</h4>
                        <p>Viewing your life in weeks (e.g., "4,000 weeks") is a popular productivity and philosophy concept ("Memento Mori") that helps visualize time passing more concretely than years.</p>
                    </div>

                    <div class="faq-item">
                        <h4>Does this calculate biological age?</h4>
                        <p>No. This tool calculates chronological age (time elapsed). Biological age depends on health markers like cell regeneration, which requires medical testing.</p>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <div id="tipCalc" class="calculator-page">
        <div class="container">
            <a href="#" class="back-btn" onclick="showHome(); return false;">â† Back to Home</a>
            <div class="calc-container">
                <div class="calc-header">
                    <h2>ðŸ’µ Tip Calculator</h2>
                    <p>Calculate tip and split the bill easily.</p>
                    <button class="favorite-btn" id="favBtn-tip" onclick="toggleFavorite('tip', 'ðŸ’µ Tip Calculator')">
                        <span class="star-icon">â˜†</span>
                        <span class="fav-text">Add to Favorites</span>
                    </button>
                </div>
                <form onsubmit="calculateTip(event)">
                    <div class="form-group">
                        <label for="billAmount">Bill Amount ($)</label>
                        <input type="number" id="billAmount" required min="0" step="0.01" value="50">
                    </div>
                    <div class="form-group">
                        <label for="tipPercent">Tip Percentage (%)</label>
                        <input type="number" id="tipPercent" required min="0" step="1" value="18">
                    </div>
                    <div class="form-group">
                        <label for="numPeople">Number of People</label>
                        <input type="number" id="numPeople" required min="1" step="1" value="1">
                    </div>
                    <button type="submit" class="calculate-btn">Calculate Tip</button>
                </form>
                <div id="tipResult" class="result">
                    <h3>Per Person</h3>
                    <div class="result-value" id="perPerson">$0</div>
                    <div class="result-details">
                        <div class="result-row">
                            <span>Tip Amount:</span>
                            <strong id="tipAmount">$0</strong>
                        </div>
                        <div class="result-row">
                            <span>Total Bill:</span>
                            <strong id="totalBill">$0</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="percentageCalc" class="calculator-page">
        <div class="container">
            <a href="#" class="back-btn" onclick="showHome(); return false;">â† Back to Home</a>
            <div class="percentage-calc-container">
                <div class="calc-header">
                    <h2>ðŸ“Š Percentage Calculator</h2>
                    <p>Calculate percentages quickly and easily for a variety of purposes</p>
                    <button class="favorite-btn" id="favBtn-percentage" onclick="toggleFavorite('percentage', 'ðŸ“Š Percentage Calculator')">
                        <span class="star-icon">â˜†</span>
                        <span class="fav-text">Add to Favorites</span>
                    </button>
                </div>

                <!-- Calculator 1: What is X% of Y? -->
                <div class="percentage-calc-card">
                    <h3>What is <input type="number" id="percent1" class="inline-input" value="10" min="0" step="0.01"> % of <input type="number" id="value1" class="inline-input" value="100" min="0" step="0.01"> ?</h3>
                    <button onclick="calculateType1()" class="calc-inline-btn">Calculate</button>
                    <div class="inline-result" id="result1">
                        <span class="result-label">Answer:</span>
                        <span class="result-number">10</span>
                    </div>
                    <p class="calc-explanation">Example: 10% of 100 is 10</p>
                </div>

                <!-- Calculator 2: X is what percent of Y? -->
                <div class="percentage-calc-card">
                    <h3><input type="number" id="value2a" class="inline-input" value="10" min="0" step="0.01"> is what percent of <input type="number" id="value2b" class="inline-input" value="100" min="0" step="0.01"> ?</h3>
                    <button onclick="calculateType2()" class="calc-inline-btn">Calculate</button>
                    <div class="inline-result" id="result2">
                        <span class="result-label">Answer:</span>
                        <span class="result-number">10 %</span>
                    </div>
                    <p class="calc-explanation">Example: 10 is 10% of 100</p>
                </div>

                <!-- Calculator 3: Percentage increase/decrease -->
                <div class="percentage-calc-card">
                    <h3>What is the percentage increase/decrease from <input type="number" id="value3a" class="inline-input" value="100" step="0.01"> to <input type="number" id="value3b" class="inline-input" value="120" step="0.01"> ?</h3>
                    <button onclick="calculateType3()" class="calc-inline-btn">Calculate</button>
                    <div class="inline-result" id="result3">
                        <span class="result-label">Answer:</span>
                        <span class="result-number increase">20% increase</span>
                    </div>
                    <p class="calc-explanation">Example: From 100 to 120 is a 20% increase</p>
                </div>

                <p class="tip-text"><strong>Tips:</strong> Use tab to move to the next field. Use shift-tab to move to the previous field. Press enter to calculate.</p>
            </div>

            <!-- Educational Content -->
            <div class="educational-content">
                <section class="content-section">
                    <h2>About</h2>
                    <p>This calculator is designed to help you quickly and easily calculate percentages for a variety of purposes. Whether you're calculating discounts, calculating tips, or trying to figure out how much something has increased or decreased in value, our percentage calculator can help.</p>

                    <h3>What is a percentage?</h3>
                    <p>Percentage is a way of expressing a number as a fraction of 100. It is commonly used to represent a portion of a whole or to compare two numbers. Percentages are often denoted with the symbol "%". For example, if there are 100 cars in a garage and 25 of them are white, we could say that 25% of the cars in the garage are white.</p>

                    <h3>How do you calculate a percentage?</h3>
                    <p>To calculate a percentage, you typically divide the part (the smaller value) by the whole (the larger value), and then multiply the result by 100. This gives you the percentage value as a number between 0 and 100. For example, if you have 50 apples and you want to know what percentage of them are red, and 20 of them are red, you would divide 20 by 50 to get 0.4, then multiply by 100 to get 40%.</p>

                    <h3>Why percentages matter?</h3>
                    <p>Percentages are used in a wide variety of contexts, from calculating discounts and taxes to measuring changes in stock prices and economic indicators. Understanding how percentages work can help you make more informed decisions in a variety of areas, from personal finance to business management.</p>
                </section>

                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>Common Uses</h4>
                        <ul>
                            <li>Calculating discounts and sales</li>
                            <li>Computing taxes and tips</li>
                            <li>Measuring test scores and grades</li>
                            <li>Tracking financial growth</li>
                        </ul>
                    </div>

                    <div class="tip-card">
                        <h4>Quick Examples</h4>
                        <ul>
                            <li>20% off $50 = $10 discount</li>
                            <li>15% tip on $80 = $12</li>
                            <li>80/100 correct = 80% score</li>
                            <li>From $100 to $150 = 50% increase</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Simple Beam Calculator -->
    <div id="beamCalc" class="calculator-page">
        <div class="container">
            <a href="#" class="back-btn" onclick="showHome(); return false;">â† Back to Home</a>
            <div class="calc-container">
                <div class="calc-header">
                    <h2>ðŸ“ Simple Beam Calculator</h2>
                    <p>Calculate reactions, shear force, bending moment, and deflection for simply supported beams</p>
                    <button class="favorite-btn" id="favBtn-beam" onclick="toggleFavorite('beam', 'ðŸ“ Simple Beam Calculator')">
                        <span class="star-icon">â˜†</span>
                        <span class="fav-text">Add to Favorites</span>
                    </button>
                </div>
                
                <form onsubmit="calculateBeam(event)">
                    <!-- Beam Properties -->
                    <div class="form-section">
                        <h3>Beam Properties</h3>
                        <div class="form-group">
                            <label for="beamLength">Beam Length (L)</label>
                            <div class="input-with-suffix">
                                <input type="number" id="beamLength" required min="0.1" step="0.1" value="10">
                                <span class="suffix">m</span>
                            </div>
                            <small>Total span length of the beam</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="elasticModulus">Elastic Modulus (E)</label>
                            <div class="input-with-suffix">
                                <input type="number" id="elasticModulus" required min="1" step="1" value="200000">
                                <span class="suffix">MPa</span>
                            </div>
                            <small>Young's modulus of material (Steel: 200,000 MPa)</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="momentOfInertia">Moment of Inertia (I)</label>
                            <div class="input-with-suffix">
                                <input type="number" id="momentOfInertia" required min="0.000001" step="0.000001" value="0.0001">
                                <span class="suffix">mâ´</span>
                            </div>
                            <small>Second moment of area of cross-section</small>
                        </div>
                    </div>

                    <!-- Loading Type -->
                    <div class="form-section">
                        <h3>Loading Configuration</h3>
                        <div class="form-group">
                            <label for="loadType">Load Type</label>
                            <select id="loadType" onchange="updateLoadInputs()">
                                <option value="point">Point Load (Concentrated)</option>
                                <option value="udl">Uniformly Distributed Load (UDL)</option>
                                <option value="moment">Applied Moment</option>
                            </select>
                        </div>
                        
                        <!-- Point Load Inputs -->
                        <div id="pointLoadInputs" class="load-inputs">
                            <div class="form-group">
                                <label for="pointLoad">Point Load (P)</label>
                                <div class="input-with-suffix">
                                    <input type="number" id="pointLoad" min="0.1" step="0.1" value="50">
                                    <span class="suffix">kN</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="loadPosition">Load Position from Left Support (a)</label>
                                <div class="input-with-suffix">
                                    <input type="number" id="loadPosition" min="0" step="0.1" value="5">
                                    <span class="suffix">m</span>
                                </div>
                                <small>Distance from left support</small>
                            </div>
                        </div>
                        
                        <!-- UDL Inputs -->
                        <div id="udlInputs" class="load-inputs" style="display: none;">
                            <div class="form-group">
                                <label for="udlLoad">Uniformly Distributed Load (w)</label>
                                <div class="input-with-suffix">
                                    <input type="number" id="udlLoad" min="0.1" step="0.1" value="10">
                                    <span class="suffix">kN/m</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Moment Inputs -->
                        <div id="momentInputs" class="load-inputs" style="display: none;">
                            <div class="form-group">
                                <label for="appliedMoment">Applied Moment (M)</label>
                                <div class="input-with-suffix">
                                    <input type="number" id="appliedMoment" min="0.1" step="0.1" value="100">
                                    <span class="suffix">kNâ‹…m</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="momentPosition">Moment Position from Left Support</label>
                                <div class="input-with-suffix">
                                    <input type="number" id="momentPosition" min="0" step="0.1" value="5">
                                    <span class="suffix">m</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="button-row">
                        <button type="submit" class="calculate-btn">Calculate</button>
                        <button type="button" class="clear-btn" onclick="clearBeamForm()">Clear</button>
                    </div>
                </form>

                <div id="beamResults" class="result" style="display: none;">
                    <h3>Results</h3>
                    
                    <!-- Reactions -->
                    <div class="result-section">
                        <h4>Support Reactions</h4>
                        <div class="result-row">
                            <span>Left Reaction (Râ‚):</span>
                            <strong id="leftReaction">0 kN</strong>
                        </div>
                        <div class="result-row">
                            <span>Right Reaction (Râ‚‚):</span>
                            <strong id="rightReaction">0 kN</strong>
                        </div>
                    </div>

                    <!-- Maximum Values -->
                    <div class="result-section">
                        <h4>Maximum Values</h4>
                        <div class="result-row">
                            <span>Maximum Shear Force:</span>
                            <strong id="maxShear">0 kN</strong>
                        </div>
                        <div class="result-row">
                            <span>Maximum Bending Moment:</span>
                            <strong id="maxMoment">0 kNâ‹…m</strong>
                        </div>
                        <div class="result-row">
                            <span>Location of Max Moment:</span>
                            <strong id="momentLocation">0 m</strong>
                        </div>
                        <div class="result-row">
                            <span>Maximum Deflection:</span>
                            <strong id="maxDeflection">0 mm</strong>
                        </div>
                        <div class="result-row">
                            <span>Location of Max Deflection:</span>
                            <strong id="deflectionLocation">0 m</strong>
                        </div>
                    </div>

                    <!-- Beam Diagram -->
                    <div class="result-section">
                        <h4>Beam Diagram</h4>
                        <div class="beam-diagram" id="beamDiagram">
                            <!-- SVG diagram will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Educational Content -->
            <div class="educational-content">
                <section class="content-section">
                    <h2>About Simple Beam Analysis</h2>
                    <p>A simply supported beam is a structural element supported at both ends and free to rotate. This calculator helps engineers and students analyze the behavior of beams under various loading conditions.</p>

                    <h3>Key Concepts</h3>
                    <div class="tips-grid">
                        <div class="tip-card">
                            <h4>ðŸ“Š Reactions</h4>
                            <p>Support reactions are the forces exerted by supports to keep the beam in equilibrium. For a simply supported beam, Râ‚ + Râ‚‚ = Total Load.</p>
                        </div>
                        <div class="tip-card">
                            <h4>âœ‚ï¸ Shear Force</h4>
                            <p>Internal force perpendicular to the beam axis. Maximum shear typically occurs at supports.</p>
                        </div>
                        <div class="tip-card">
                            <h4>ðŸ”„ Bending Moment</h4>
                            <p>Internal moment causing the beam to bend. Critical for determining required beam strength.</p>
                        </div>
                        <div class="tip-card">
                            <h4>â†“ Deflection</h4>
                            <p>Vertical displacement of the beam. Must be limited for serviceability and comfort.</p>
                        </div>
                    </div>

                    <h3>Common Load Types</h3>
                    <ul>
                        <li><strong>Point Load:</strong> Concentrated force at a specific location (e.g., column load)</li>
                        <li><strong>Uniformly Distributed Load (UDL):</strong> Load spread evenly along beam length (e.g., slab weight)</li>
                        <li><strong>Applied Moment:</strong> Rotational force at a point (e.g., cantilever connection)</li>
                    </ul>

                    <h3>Material Properties</h3>
                    <ul>
                        <li><strong>Steel:</strong> E = 200,000 MPa (Most common structural material)</li>
                        <li><strong>Concrete:</strong> E = 25,000-35,000 MPa (Depends on grade)</li>
                        <li><strong>Timber:</strong> E = 10,000-15,000 MPa (Species dependent)</li>
                        <li><strong>Aluminum:</strong> E = 70,000 MPa</li>
                    </ul>

                    <h3>Design Considerations</h3>
                    <p><strong>Strength:</strong> Ensure maximum bending moment is within material capacity.</p>
                    <p><strong>Serviceability:</strong> Limit deflection to L/250 to L/360 for typical applications.</p>
                    <p><strong>Safety:</strong> Apply appropriate safety factors per code requirements.</p>
                </section>
            </div>
        </div>
    </div>

    <div id="favoritesPage" class="calculator-page">
        <div class="container">
            <div class="favorites-header">
                <h2>â­ My Favorite Calculators</h2>
                <p>Quick access to your most-used calculators</p>
            </div>
            <div id="favoritesGrid" class="tool-grid">
                <!-- Favorites will be dynamically inserted here -->
            </div>
            <div id="emptyFavorites" class="empty-favorites">
                <div class="empty-favorites-icon">â­</div>
                <h3>No Favorites Yet</h3>
                <p>Add calculators to your favorites for quick access.<br>Click the "Add to Favorites" button on any calculator page.</p>
                <button class="home-btn" onclick="showHome()">Browse Calculators</button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <p><a href="https://hariprasadms.github.io/" target="_blank" rel="noopener noreferrer" style="color: white; text-decoration: none; opacity: 0.9;">hariprasadms.github.io</a> Â© 2026 CalcHub. All rights reserved. | Your data stays private, always.</p>
        </div>
    </footer>

    <script>
        // Navigation functions
        function showHome() {
            document.getElementById('homePage').style.display = 'block';
            document.getElementById('favoritesPage').style.display = 'none';
            document.querySelectorAll('.calculator-page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show category menu on home page
            const categoryMenu = document.querySelector('.category-menu');
            if (categoryMenu) {
                categoryMenu.classList.remove('hidden');
            }
            
            window.scrollTo(0, 0);
        }

        function showFavorites() {
            document.getElementById('homePage').style.display = 'none';
            document.getElementById('favoritesPage').style.display = 'block';
            document.querySelectorAll('.calculator-page').forEach(page => {
                if (page.id !== 'favoritesPage') {
                    page.classList.remove('active');
                }
            });
            
            // Hide category menu on favorites page
            const categoryMenu = document.querySelector('.category-menu');
            if (categoryMenu) {
                categoryMenu.classList.add('hidden');
            }
            
            // Load and display favorites
            loadFavorites();
            window.scrollTo(0, 0);
        }

        // Favorites Management
        const FAVORITES_KEY = 'calchub_favorites';

        function getFavorites() {
            const favorites = localStorage.getItem(FAVORITES_KEY);
            return favorites ? JSON.parse(favorites) : [];
        }

        function saveFavorites(favorites) {
            localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));
        }

        function toggleFavorite(calcId, calcName) {
            const favorites = getFavorites();
            const index = favorites.findIndex(fav => fav.id === calcId);
            const btn = document.getElementById(`favBtn-${calcId}`);
            
            if (index > -1) {
                // Remove from favorites
                favorites.splice(index, 1);
                btn.classList.remove('favorited');
                btn.querySelector('.star-icon').textContent = 'â˜†';
                btn.querySelector('.fav-text').textContent = 'Add to Favorites';
            } else {
                // Add to favorites
                favorites.push({ id: calcId, name: calcName, addedAt: Date.now() });
                btn.classList.add('favorited');
                btn.querySelector('.star-icon').textContent = 'â˜…';
                btn.querySelector('.fav-text').textContent = 'Remove from Favorites';
            }
            
            saveFavorites(favorites);
        }

        function removeFavorite(calcId) {
            const favorites = getFavorites();
            const filtered = favorites.filter(fav => fav.id !== calcId);
            saveFavorites(filtered);
            loadFavorites();
            
            // Update button state if on that calculator page
            const btn = document.getElementById(`favBtn-${calcId}`);
            if (btn) {
                btn.classList.remove('favorited');
                btn.querySelector('.star-icon').textContent = 'â˜†';
                btn.querySelector('.fav-text').textContent = 'Add to Favorites';
            }
        }

        function loadFavorites() {
            const favorites = getFavorites();
            const grid = document.getElementById('favoritesGrid');
            const emptyState = document.getElementById('emptyFavorites');
            
            if (favorites.length === 0) {
                grid.innerHTML = '';
                emptyState.classList.add('show');
            } else {
                emptyState.classList.remove('show');
                
                // Map calculator IDs to their display info
                const calcInfo = {
                    'mortgage': { icon: 'ðŸ ', name: 'Mortgage Calculator' },
                    'bmi': { icon: 'âš–ï¸', name: 'BMI Calculator' },
                    'age': { icon: 'ðŸŽ‚', name: 'Age Calculator' },
                    'loan': { icon: 'ðŸ’³', name: 'Loan Calculator' },
                    'tip': { icon: 'ðŸ’µ', name: 'Tip Calculator' },
                    'percentage': { icon: 'ðŸ“Š', name: 'Percentage Calculator' },
                    'discount': { icon: 'ðŸ·ï¸', name: 'Discount Calculator' },
                    'calorie': { icon: 'ðŸŽ', name: 'Calorie Calculator' },
                    'beam': { icon: 'ðŸ“', name: 'Simple Beam Calculator' }
                };
                
                grid.innerHTML = favorites.map(fav => {
                    const info = calcInfo[fav.id] || { icon: 'ðŸ“±', name: fav.name };
                    return `
                        <a href="#" class="tool-card favorite" onclick="showCalculator('${fav.id}'); return false;">
                            <button class="remove-favorite" onclick="event.preventDefault(); event.stopPropagation(); removeFavorite('${fav.id}');" title="Remove from favorites">
                                âœ•
                            </button>
                            <span class="tool-icon">${info.icon}</span>
                            <h4><span class="tool-title">${info.name}</span></h4>
                        </a>
                    `;
                }).join('');
            }
        }

        function updateFavoriteButtons() {
            const favorites = getFavorites();
            favorites.forEach(fav => {
                const btn = document.getElementById(`favBtn-${fav.id}`);
                if (btn) {
                    btn.classList.add('favorited');
                    btn.querySelector('.star-icon').textContent = 'â˜…';
                    btn.querySelector('.fav-text').textContent = 'Remove from Favorites';
                }
            });
        }

        // Initialize favorites on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateFavoriteButtons();
        });

        // Mobile menu toggle
        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            const hamburger = document.getElementById('hamburger');
            
            navLinks.classList.toggle('active');
            hamburger.classList.toggle('active');
        }

        function closeMenu() {
            const navLinks = document.getElementById('navLinks');
            const hamburger = document.getElementById('hamburger');
            
            navLinks.classList.remove('active');
            hamburger.classList.remove('active');
        }

        // Hamburger menu event listener
        document.addEventListener('DOMContentLoaded', function() {
            const hamburger = document.getElementById('hamburger');
            if (hamburger) {
                hamburger.addEventListener('click', toggleMenu);
            }

            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                const navLinks = document.getElementById('navLinks');
                const hamburger = document.getElementById('hamburger');
                const nav = document.querySelector('.nav');
                
                if (navLinks && navLinks.classList.contains('active') && 
                    !nav.contains(e.target)) {
                    closeMenu();
                }
            });
        });

        function showCalculator(calcType) {
            document.getElementById('homePage').style.display = 'none';
            document.getElementById('favoritesPage').style.display = 'none';
            document.querySelectorAll('.calculator-page').forEach(page => {
                page.classList.remove('active');
            });
            
            const calcId = calcType + 'Calc';
            const calcPage = document.getElementById(calcId);
            
            if (calcPage) {
                // Calculator exists, show it
                calcPage.classList.add('active');
                
                // Hide category menu on calculator pages
                const categoryMenu = document.querySelector('.category-menu');
                if (categoryMenu) {
                    categoryMenu.classList.add('hidden');
                }
            } else {
                // Calculator doesn't exist, show error page
                showCalculatorNotFound(calcType);
                
                // Hide category menu on error page too
                const categoryMenu = document.querySelector('.category-menu');
                if (categoryMenu) {
                    categoryMenu.classList.add('hidden');
                }
            }
            
            window.scrollTo(0, 0);
        }

        function showCalculatorNotFound(calcType) {
            // Check if error page already exists
            let errorPage = document.getElementById('calcNotFoundPage');
            
            if (!errorPage) {
                // Create error page if it doesn't exist
                errorPage = document.createElement('div');
                errorPage.id = 'calcNotFoundPage';
                errorPage.className = 'calculator-page';
                errorPage.innerHTML = `
                    <div class="container">
                        <a href="#" class="back-btn" onclick="showHome(); return false;">â† Back to Home</a>
                        <div class="not-found-container">
                            <div class="not-found-icon">ðŸ”</div>
                            <h2 class="not-found-title">Calculator Not Found</h2>
                            <p class="not-found-text">The calculator you're looking for doesn't exist yet or is under development.</p>
                            <div class="not-found-suggestions">
                                <h3>Try these popular calculators:</h3>
                                <div class="suggestion-grid">
                                    <a href="#" class="suggestion-card" onclick="showCalculator('mortgage'); return false;">
                                        <span class="suggestion-icon">ðŸ </span>
                                        <span class="suggestion-name">Mortgage Calculator</span>
                                    </a>
                                    <a href="#" class="suggestion-card" onclick="showCalculator('bmi'); return false;">
                                        <span class="suggestion-icon">âš–ï¸</span>
                                        <span class="suggestion-name">BMI Calculator</span>
                                    </a>
                                    <a href="#" class="suggestion-card" onclick="showCalculator('age'); return false;">
                                        <span class="suggestion-icon">ðŸŽ‚</span>
                                        <span class="suggestion-name">Age Calculator</span>
                                    </a>
                                    <a href="#" class="suggestion-card" onclick="showCalculator('percentage'); return false;">
                                        <span class="suggestion-icon">ðŸ“Š</span>
                                        <span class="suggestion-name">Percentage Calculator</span>
                                    </a>
                                </div>
                            </div>
                            <button class="home-btn" onclick="showHome()">Browse All Calculators</button>
                        </div>
                    </div>
                `;
                
                // Insert before footer
                const footer = document.querySelector('.footer');
                footer.parentNode.insertBefore(errorPage, footer);
            }
            
            errorPage.classList.add('active');
        }

        // Category filtering functionality
        let currentCategory = 'all';

        function filterCategory(category) {
            currentCategory = category;
            const toolCards = document.querySelectorAll('.tool-card');
            const categoryItems = document.querySelectorAll('.category-nav-item');
            const emptyState = document.getElementById('emptyState');
            let visibleCount = 0;
            
            // Update active state on category items
            categoryItems.forEach(item => {
                if (item.dataset.category === category) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // Filter tool cards with animation
            toolCards.forEach(card => {
                const cardCategory = card.dataset.category;
                
                if (category === 'all' || cardCategory === category) {
                    card.classList.remove('hidden');
                    card.style.display = 'block';
                    visibleCount++;
                    // Trigger reflow for animation
                    card.style.animation = 'none';
                    setTimeout(() => {
                        card.style.animation = '';
                    }, 10);
                } else {
                    card.classList.add('hidden');
                    card.style.display = 'none';
                }
            });

            // Show/hide empty state
            if (visibleCount === 0) {
                emptyState.classList.add('show');
            } else {
                emptyState.classList.remove('show');
            }

            // Update section title
            updateSectionTitle(category);
            
            // Clear search when switching categories
            const searchInput = document.getElementById('searchInput');
            if (searchInput && searchInput.value) {
                searchInput.value = '';
                document.getElementById('clearSearch').classList.remove('visible');
            }
        }

        function updateSectionTitle(category) {
            const sectionTitle = document.querySelector('.popular-tools .section-title');
            const categoryNames = {
                'all': 'Popular Tools',
                'finance': 'Finance Calculators',
                'health': 'Health Calculators',
                'everyday': 'Everyday Life Calculators',
                'converters': 'Converter Tools'
            };
            
            if (sectionTitle) {
                sectionTitle.textContent = categoryNames[category] || 'Popular Tools';
            }
        }

        // Calculator functions
        function calculateMortgage(e) {
            e.preventDefault();
            
            const homePrice = parseFloat(document.getElementById('homePrice').value);
            const downPaymentPercent = parseFloat(document.getElementById('downPaymentPercent').value);
            const downPaymentDollar = parseFloat(document.getElementById('downPaymentDollar').value);
            const loanTermYears = parseFloat(document.getElementById('loanTerm').value);
            const annualRate = parseFloat(document.getElementById('interestRate').value);
            const startMonth = parseInt(document.getElementById('startMonth').value);
            const startYear = parseInt(document.getElementById('startYear').value);
            
            // Tax and insurance (annual amounts)
            const propertyTaxAnnual = parseFloat(document.getElementById('propertyTax').value) || 0;
            const homeInsAnnual = parseFloat(document.getElementById('homeIns').value) || 0;
            const pmiPercent = parseFloat(document.getElementById('pmiPercent').value) || 0;
            const hoaFeeMonthly = parseFloat(document.getElementById('hoaFee').value) || 0;
            const otherCostsMonthly = parseFloat(document.getElementById('otherCosts').value) || 0;
            
            // Calculate loan details
            const loanAmount = homePrice - downPaymentDollar;
            const monthlyRate = annualRate / 100 / 12;
            const numPayments = loanTermYears * 12;
            
            // Monthly P&I payment
            const monthlyPI = loanAmount * (monthlyRate * Math.pow(1 + monthlyRate, numPayments)) / 
                             (Math.pow(1 + monthlyRate, numPayments) - 1);
            
            // Monthly additional costs
            const monthlyPropertyTax = propertyTaxAnnual / 12;
            const monthlyHomeIns = homeInsAnnual / 12;
            const monthlyPMI = downPaymentPercent < 20 ? (loanAmount * (pmiPercent / 100) / 12) : 0;
            const monthlyOther = hoaFeeMonthly + otherCostsMonthly;
            
            // Total monthly payment
            const totalMonthly = monthlyPI + monthlyPropertyTax + monthlyHomeIns + monthlyPMI + monthlyOther;
            
            // Calculate totals
            const totalPrincipalInterest = monthlyPI * numPayments;
            const totalInterest = totalPrincipalInterest - loanAmount;
            const totalTax = monthlyPropertyTax * numPayments;
            const totalIns = monthlyHomeIns * numPayments;
            const totalPMI = monthlyPMI * numPayments;
            const totalOther = monthlyOther * numPayments;
            const totalAllIn = homePrice + totalInterest + totalTax + totalIns + totalPMI + totalOther;
            const totalOutOfPocket = downPaymentDollar + totalAllIn - homePrice;
            
            // Payoff date
            const payoffDate = new Date(startYear, startMonth);
            payoffDate.setMonth(payoffDate.getMonth() + numPayments);
            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const payoffString = monthNames[payoffDate.getMonth()] + ' ' + payoffDate.getFullYear();
            
            // Update display
            document.getElementById('monthlyPayDisplay').textContent = '$' + totalMonthly.toFixed(2);
            document.getElementById('monthlyPI').textContent = '$' + monthlyPI.toFixed(0);
            document.getElementById('monthlyTax').textContent = '$' + monthlyPropertyTax.toFixed(0);
            document.getElementById('monthlyIns').textContent = '$' + monthlyHomeIns.toFixed(0);
            document.getElementById('monthlyPMI').textContent = '$' + monthlyPMI.toFixed(0);
            document.getElementById('monthlyOther').textContent = '$' + monthlyOther.toFixed(0);
            
            document.getElementById('totalOutOfPocket').textContent = '$' + totalOutOfPocket.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('loanAmountDisplay').textContent = '$' + loanAmount.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('downPaymentDisplay').textContent = '$' + downPaymentDollar.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('totalInterestDisplay').textContent = '$' + totalInterest.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('totalPrincipalInt').textContent = '$' + totalPrincipalInterest.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('totalTaxDisplay').textContent = '$' + totalTax.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('totalInsDisplay').textContent = '$' + totalIns.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('totalPMIFees').textContent = '$' + totalPMI.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0}) + ' / $' + totalOther.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('totalAllIn').textContent = '$' + totalAllIn.toLocaleString('en-US', {minimumFractionDigits: 0, maximumFractionDigits: 0});
            document.getElementById('payoffDate').textContent = payoffString;
            
            // Generate amortization schedule
            generateAmortizationSchedule(loanAmount, monthlyRate, numPayments, startMonth, startYear);
            
            document.getElementById('mortgageResults').style.display = 'block';
        }

        function generateAmortizationSchedule(principal, monthlyRate, numPayments, startMonth, startYear) {
            const scheduleBody = document.getElementById('scheduleBody');
            scheduleBody.innerHTML = '';
            
            let balance = principal;
            let currentDate = new Date(startYear, startMonth);
            const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            
            for (let i = 1; i <= numPayments; i++) {
                const interestPayment = balance * monthlyRate;
                const principalPayment = (principal * (monthlyRate * Math.pow(1 + monthlyRate, numPayments)) / 
                                         (Math.pow(1 + monthlyRate, numPayments) - 1)) - interestPayment;
                balance -= principalPayment;
                
                // Only show every 12th payment to keep the table manageable
                if (i % 12 === 0 || i === 1 || i === numPayments) {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}</td>
                        <td>$${interestPayment.toFixed(2)}</td>
                        <td>$${principalPayment.toFixed(2)}</td>
                        <td>$${Math.max(0, balance).toFixed(2)}</td>
                    `;
                    scheduleBody.appendChild(row);
                }
                
                currentDate.setMonth(currentDate.getMonth() + 1);
            }
        }

        function toggleSchedule() {
            const scheduleSection = document.getElementById('scheduleSection');
            if (scheduleSection.style.display === 'none') {
                scheduleSection.style.display = 'block';
            } else {
                scheduleSection.style.display = 'none';
            }
        }

        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            const header = section.previousElementSibling;
            
            if (section.classList.contains('expanded')) {
                section.classList.remove('expanded');
                header.classList.remove('expanded');
            } else {
                section.classList.add('expanded');
                header.classList.add('expanded');
            }
        }

        function clearMortgageForm() {
            document.getElementById('mortgageForm').reset();
            document.getElementById('mortgageResults').style.display = 'none';
            document.getElementById('scheduleSection').style.display = 'none';
        }

        // Sync down payment fields
        document.getElementById('downPaymentPercent').addEventListener('input', function() {
            const homePrice = parseFloat(document.getElementById('homePrice').value) || 0;
            const percent = parseFloat(this.value) || 0;
            const dollar = (homePrice * percent / 100).toFixed(0);
            document.getElementById('downPaymentDollar').value = dollar;
        });

        document.getElementById('downPaymentDollar').addEventListener('input', function() {
            const homePrice = parseFloat(document.getElementById('homePrice').value) || 0;
            const dollar = parseFloat(this.value) || 0;
            const percent = homePrice > 0 ? ((dollar / homePrice) * 100).toFixed(2) : 0;
            document.getElementById('downPaymentPercent').value = percent;
        });

        document.getElementById('homePrice').addEventListener('input', function() {
            const percent = parseFloat(document.getElementById('downPaymentPercent').value) || 0;
            const homePrice = parseFloat(this.value) || 0;
            const dollar = (homePrice * percent / 100).toFixed(0);
            document.getElementById('downPaymentDollar').value = dollar;
        });

        // Sync property tax fields
        document.getElementById('propertyTax').addEventListener('input', function() {
            const homePrice = parseFloat(document.getElementById('homePrice').value) || 0;
            const dollar = parseFloat(this.value) || 0;
            const percent = homePrice > 0 ? ((dollar / homePrice) * 100).toFixed(2) : 0;
            document.getElementById('propertyTaxPercent').value = percent;
        });

        document.getElementById('propertyTaxPercent').addEventListener('input', function() {
            const homePrice = parseFloat(document.getElementById('homePrice').value) || 0;
            const percent = parseFloat(this.value) || 0;
            const dollar = (homePrice * percent / 100).toFixed(0);
            document.getElementById('propertyTax').value = dollar;
        });

        // Sync home insurance fields
        document.getElementById('homeIns').addEventListener('input', function() {
            const homePrice = parseFloat(document.getElementById('homePrice').value) || 0;
            const dollar = parseFloat(this.value) || 0;
            const percent = homePrice > 0 ? ((dollar / homePrice) * 100).toFixed(2) : 0;
            document.getElementById('homeInsPercent').value = percent;
        });

        document.getElementById('homeInsPercent').addEventListener('input', function() {
            const homePrice = parseFloat(document.getElementById('homePrice').value) || 0;
            const percent = parseFloat(this.value) || 0;
            const dollar = (homePrice * percent / 100).toFixed(0);
            document.getElementById('homeIns').value = dollar;
        });

        function calculateBMI(e) {
            e.preventDefault();
            
            const weight = parseFloat(document.getElementById('weight').value);
            const height = parseFloat(document.getElementById('height').value);
            
            const bmi = (weight / (height * height)) * 703;
            
            let category = '';
            if (bmi < 18.5) category = 'Underweight';
            else if (bmi < 25) category = 'Normal weight';
            else if (bmi < 30) category = 'Overweight';
            else category = 'Obese';
            
            document.getElementById('bmiValue').textContent = bmi.toFixed(1);
            document.getElementById('bmiCategory').textContent = category;
            
            document.getElementById('bmiResult').classList.add('show');
        }

        // Age Calculator Functions
        function calculateAge(e) {
            e.preventDefault();
            
            const birthDate = new Date(document.getElementById('birthDate').value);
            let targetDate = document.getElementById('ageAtDate').value;
            
            if (!targetDate) {
                targetDate = new Date();
            } else {
                targetDate = new Date(targetDate);
            }
            
            if (birthDate > targetDate) {
                alert('Birth date cannot be after the target date!');
                return;
            }
            
            // Calculate age components
            const ageData = calculateAgeComponents(birthDate, targetDate);
            
            // Display main age
            document.getElementById('ageDisplay').textContent = `${ageData.years} years ${ageData.months} months`;
            
            // Display detailed age
            document.getElementById('ageDetail').textContent = 
                `${ageData.years} years, ${ageData.months} months, and ${ageData.days} days old`;
            
            // Calculate and display next birthday
            const nextBirthday = new Date(targetDate.getFullYear(), birthDate.getMonth(), birthDate.getDate());
            if (nextBirthday <= targetDate) {
                nextBirthday.setFullYear(nextBirthday.getFullYear() + 1);
            }
            
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 
                              'July', 'August', 'September', 'October', 'November', 'December'];
            const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            
            document.getElementById('nextBirthday').textContent = 
                `${dayNames[nextBirthday.getDay()]}, ${monthNames[nextBirthday.getMonth()]} ${nextBirthday.getDate()}, ${nextBirthday.getFullYear()}`;
            
            const daysToNextBirthday = Math.floor((nextBirthday - targetDate) / (1000 * 60 * 60 * 24));
            document.getElementById('birthdayCountdown').textContent = daysToNextBirthday;
            document.getElementById('daysLeft').textContent = daysToNextBirthday === 1 ? 'day left' : 'days left';
            
            // Calculate milestone
            const totalDays = ageData.totalDays;
            const milestones = [1000, 2000, 3000, 5000, 7500, 10000, 15000, 20000, 25000, 30000];
            let nextMilestone = milestones.find(m => m > totalDays) || (Math.ceil(totalDays / 5000) * 5000);
            
            const daysToMilestone = nextMilestone - totalDays;
            const milestoneDate = new Date(targetDate);
            milestoneDate.setDate(milestoneDate.getDate() + daysToMilestone);
            
            document.getElementById('milestoneText').textContent = 
                `You will turn ${nextMilestone.toLocaleString()} days old on:`;
            document.getElementById('milestoneDate').textContent = 
                `${monthNames[milestoneDate.getMonth()]} ${milestoneDate.getDate()}, ${milestoneDate.getFullYear()}`;
            
            // Display totals
            document.getElementById('totalWeeks').textContent = 
                Math.floor(ageData.totalDays / 7).toLocaleString();
            document.getElementById('totalDays').textContent = 
                ageData.totalDays.toLocaleString();
            document.getElementById('totalHours').textContent = 
                (ageData.totalDays * 24).toLocaleString();
            document.getElementById('totalMins').textContent = 
                (ageData.totalDays * 24 * 60).toLocaleString();
            
            // Show results
            document.getElementById('ageResults').style.display = 'block';
        }

        function calculateAgeComponents(birthDate, targetDate) {
            let years = targetDate.getFullYear() - birthDate.getFullYear();
            let months = targetDate.getMonth() - birthDate.getMonth();
            let days = targetDate.getDate() - birthDate.getDate();
            
            // Adjust for negative days
            if (days < 0) {
                months--;
                const prevMonth = new Date(targetDate.getFullYear(), targetDate.getMonth(), 0);
                days += prevMonth.getDate();
            }
            
            // Adjust for negative months
            if (months < 0) {
                years--;
                months += 12;
            }
            
            // Calculate total days
            const totalDays = Math.floor((targetDate - birthDate) / (1000 * 60 * 60 * 24));
            
            return { years, months, days, totalDays };
        }

        function resetAgeToToday() {
            document.getElementById('ageAtDate').value = '';
            const birthDate = document.getElementById('birthDate').value;
            if (birthDate) {
                calculateAge({ preventDefault: () => {} });
            }
        }

        // Set today's date as default for age calculator
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            const ageAtDateInput = document.getElementById('ageAtDate');
            if (ageAtDateInput) {
                ageAtDateInput.setAttribute('max', today);
            }
        });

        function calculateTip(e) {
            e.preventDefault();
            
            const billAmount = parseFloat(document.getElementById('billAmount').value);
            const tipPercent = parseFloat(document.getElementById('tipPercent').value) / 100;
            const numPeople = parseInt(document.getElementById('numPeople').value);
            
            const tipAmount = billAmount * tipPercent;
            const totalBill = billAmount + tipAmount;
            const perPerson = totalBill / numPeople;
            
            document.getElementById('tipAmount').textContent = '$' + tipAmount.toFixed(2);
            document.getElementById('totalBill').textContent = '$' + totalBill.toFixed(2);
            document.getElementById('perPerson').textContent = '$' + perPerson.toFixed(2);
            
            document.getElementById('tipResult').classList.add('show');
        }

        // Simple Beam Calculator Functions
        function updateLoadInputs() {
            const loadType = document.getElementById('loadType').value;
            
            // Hide all load inputs
            document.getElementById('pointLoadInputs').style.display = 'none';
            document.getElementById('udlInputs').style.display = 'none';
            document.getElementById('momentInputs').style.display = 'none';
            
            // Show selected load type inputs
            if (loadType === 'point') {
                document.getElementById('pointLoadInputs').style.display = 'block';
            } else if (loadType === 'udl') {
                document.getElementById('udlInputs').style.display = 'block';
            } else if (loadType === 'moment') {
                document.getElementById('momentInputs').style.display = 'block';
            }
        }

        function calculateBeam(event) {
            event.preventDefault();
            
            const L = parseFloat(document.getElementById('beamLength').value);
            const E = parseFloat(document.getElementById('elasticModulus').value);
            const I = parseFloat(document.getElementById('momentOfInertia').value);
            const loadType = document.getElementById('loadType').value;
            
            let R1, R2, maxShear, maxMoment, momentLocation, maxDeflection, deflectionLocation;
            
            if (loadType === 'point') {
                const P = parseFloat(document.getElementById('pointLoad').value);
                const a = parseFloat(document.getElementById('loadPosition').value);
                const b = L - a;
                
                // Reactions for point load
                R1 = (P * b) / L;
                R2 = (P * a) / L;
                
                // Maximum shear force
                maxShear = Math.max(R1, R2);
                
                // Maximum bending moment (at load point)
                maxMoment = (R1 * a);
                momentLocation = a;
                
                // Maximum deflection (at load point if a = b, otherwise calculate)
                if (a <= L/2) {
                    // Deflection under the load
                    maxDeflection = (P * a * b * (L*L - b*b) * Math.sqrt(3)) / (27 * E * I * L);
                    deflectionLocation = Math.sqrt((L*L - b*b)/3);
                } else {
                    maxDeflection = (P * a * b * (L*L - a*a) * Math.sqrt(3)) / (27 * E * I * L);
                    deflectionLocation = Math.sqrt((L*L - a*a)/3);
                }
                
                // Convert deflection to mm
                maxDeflection = Math.abs(maxDeflection) * 1000 * 1000; // m to mm
                
            } else if (loadType === 'udl') {
                const w = parseFloat(document.getElementById('udlLoad').value);
                
                // Reactions for UDL
                R1 = R2 = (w * L) / 2;
                
                // Maximum shear force (at supports)
                maxShear = R1;
                
                // Maximum bending moment (at center)
                maxMoment = (w * L * L) / 8;
                momentLocation = L / 2;
                
                // Maximum deflection (at center)
                maxDeflection = (5 * w * Math.pow(L, 4)) / (384 * E * I);
                maxDeflection = maxDeflection * 1000 * 1000; // m to mm
                deflectionLocation = L / 2;
                
            } else if (loadType === 'moment') {
                const M = parseFloat(document.getElementById('appliedMoment').value);
                const a = parseFloat(document.getElementById('momentPosition').value);
                const b = L - a;
                
                // Reactions for applied moment
                R1 = -M / L;
                R2 = M / L;
                
                // Maximum shear force
                maxShear = Math.abs(M / L);
                
                // Maximum bending moment
                maxMoment = Math.abs(M * b / L);
                momentLocation = a;
                
                // Simplified deflection
                maxDeflection = (M * L * L) / (9 * Math.sqrt(3) * E * I);
                maxDeflection = Math.abs(maxDeflection) * 1000 * 1000; // m to mm
                deflectionLocation = L / 2;
            }
            
            // Display results
            document.getElementById('leftReaction').textContent = R1.toFixed(2) + ' kN';
            document.getElementById('rightReaction').textContent = R2.toFixed(2) + ' kN';
            document.getElementById('maxShear').textContent = maxShear.toFixed(2) + ' kN';
            document.getElementById('maxMoment').textContent = maxMoment.toFixed(2) + ' kNâ‹…m';
            document.getElementById('momentLocation').textContent = momentLocation.toFixed(2) + ' m';
            document.getElementById('maxDeflection').textContent = maxDeflection.toFixed(2) + ' mm';
            document.getElementById('deflectionLocation').textContent = deflectionLocation.toFixed(2) + ' m';
            
            // Show results
            document.getElementById('beamResults').style.display = 'block';
            
            // Draw beam diagram
            drawBeamDiagram(L, loadType);
        }

        function drawBeamDiagram(L, loadType) {
            const diagram = document.getElementById('beamDiagram');
            const width = 600;
            const height = 200;
            const scale = 500 / L; // Scale factor for visualization
            const beamY = height / 2;
            
            let svg = `<svg width="100%" height="${height}" viewBox="0 0 ${width} ${height}" style="max-width: 600px; margin: 0 auto; display: block;">`;
            
            // Draw beam
            svg += `<line x1="50" y1="${beamY}" x2="${50 + L * scale}" y2="${beamY}" stroke="#2563eb" stroke-width="6"/>`;
            
            // Draw left support (triangle)
            svg += `<path d="M 50 ${beamY} L 40 ${beamY + 15} L 60 ${beamY + 15} Z" fill="#1e293b"/>`;
            svg += `<line x1="40" y1="${beamY + 15}" x2="60" y2="${beamY + 15}" stroke="#1e293b" stroke-width="2"/>`;
            
            // Draw right support (triangle)
            const rightX = 50 + L * scale;
            svg += `<path d="M ${rightX} ${beamY} L ${rightX - 10} ${beamY + 15} L ${rightX + 10} ${beamY + 15} Z" fill="#1e293b"/>`;
            svg += `<line x1="${rightX - 10}" y1="${beamY + 15}" x2="${rightX + 10}" y2="${beamY + 15}" stroke="#1e293b" stroke-width="2"/>`;
            
            // Draw load based on type
            if (loadType === 'point') {
                const a = parseFloat(document.getElementById('loadPosition').value);
                const loadX = 50 + a * scale;
                // Draw arrow pointing down
                svg += `<line x1="${loadX}" y1="${beamY - 40}" x2="${loadX}" y2="${beamY - 5}" stroke="#ef4444" stroke-width="3" marker-end="url(#arrowhead)"/>`;
                svg += `<text x="${loadX}" y="${beamY - 50}" text-anchor="middle" fill="#ef4444" font-size="14" font-weight="bold">P</text>`;
            } else if (loadType === 'udl') {
                // Draw distributed load (multiple arrows)
                for (let i = 0; i <= 10; i++) {
                    const x = 50 + (i * L * scale / 10);
                    svg += `<line x1="${x}" y1="${beamY - 30}" x2="${x}" y2="${beamY - 5}" stroke="#ef4444" stroke-width="2" marker-end="url(#arrowhead)"/>`;
                }
                svg += `<text x="${50 + (L * scale / 2)}" y="${beamY - 40}" text-anchor="middle" fill="#ef4444" font-size="14" font-weight="bold">w</text>`;
            } else if (loadType === 'moment') {
                const a = parseFloat(document.getElementById('momentPosition').value);
                const loadX = 50 + a * scale;
                // Draw curved arrow for moment
                svg += `<circle cx="${loadX}" cy="${beamY - 20}" r="15" fill="none" stroke="#ef4444" stroke-width="3"/>`;
                svg += `<path d="M ${loadX + 10} ${beamY - 25} L ${loadX + 15} ${beamY - 20} L ${loadX + 10} ${beamY - 15}" fill="#ef4444"/>`;
                svg += `<text x="${loadX}" y="${beamY - 50}" text-anchor="middle" fill="#ef4444" font-size="14" font-weight="bold">M</text>`;
            }
            
            // Add arrow marker definition
            svg += `<defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                    <polygon points="0 0, 10 5, 0 10" fill="#ef4444"/>
                </marker>
            </defs>`;
            
            // Add labels
            svg += `<text x="50" y="${beamY + 35}" text-anchor="middle" font-size="12">Râ‚</text>`;
            svg += `<text x="${rightX}" y="${beamY + 35}" text-anchor="middle" font-size="12">Râ‚‚</text>`;
            svg += `<text x="50" y="${height - 5}" text-anchor="middle" font-size="12" fill="#64748b">0</text>`;
            svg += `<text x="${rightX}" y="${height - 5}" text-anchor="middle" font-size="12" fill="#64748b">${L} m</text>`;
            
            svg += `</svg>`;
            
            diagram.innerHTML = svg;
        }

        function clearBeamForm() {
            document.getElementById('beamLength').value = '10';
            document.getElementById('elasticModulus').value = '200000';
            document.getElementById('momentOfInertia').value = '0.0001';
            document.getElementById('loadType').value = 'point';
            document.getElementById('pointLoad').value = '50';
            document.getElementById('loadPosition').value = '5';
            document.getElementById('udlLoad').value = '10';
            document.getElementById('appliedMoment').value = '100';
            document.getElementById('momentPosition').value = '5';
            
            updateLoadInputs();
            document.getElementById('beamResults').style.display = 'none';
        }

        // Percentage Calculator Functions
        function calculateType1() {
            const percent = parseFloat(document.getElementById('percent1').value) || 0;
            const value = parseFloat(document.getElementById('value1').value) || 0;
            const result = (percent / 100) * value;
            
            document.querySelector('#result1 .result-number').textContent = result.toFixed(2);
        }

        function calculateType2() {
            const value1 = parseFloat(document.getElementById('value2a').value) || 0;
            const value2 = parseFloat(document.getElementById('value2b').value) || 0;
            
            if (value2 === 0) {
                document.querySelector('#result2 .result-number').textContent = '0 %';
                return;
            }
            
            const result = (value1 / value2) * 100;
            document.querySelector('#result2 .result-number').textContent = result.toFixed(2) + ' %';
        }

        function calculateType3() {
            const value1 = parseFloat(document.getElementById('value3a').value) || 0;
            const value2 = parseFloat(document.getElementById('value3b').value) || 0;
            
            if (value1 === 0) {
                document.querySelector('#result3 .result-number').textContent = '0%';
                return;
            }
            
            const change = value2 - value1;
            const percentChange = (change / value1) * 100;
            const resultElement = document.querySelector('#result3 .result-number');
            
            if (percentChange > 0) {
                resultElement.textContent = percentChange.toFixed(2) + '% increase';
                resultElement.className = 'result-number increase';
            } else if (percentChange < 0) {
                resultElement.textContent = Math.abs(percentChange).toFixed(2) + '% decrease';
                resultElement.className = 'result-number decrease';
            } else {
                resultElement.textContent = '0% (no change)';
                resultElement.className = 'result-number';
            }
        }

        // Auto-calculate on input change for percentage calculator
        document.addEventListener('DOMContentLoaded', function() {
            // Type 1 calculator
            const percent1 = document.getElementById('percent1');
            const value1 = document.getElementById('value1');
            if (percent1 && value1) {
                percent1.addEventListener('input', calculateType1);
                value1.addEventListener('input', calculateType1);
                percent1.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        calculateType1();
                    }
                });
                value1.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        calculateType1();
                    }
                });
            }

            // Type 2 calculator
            const value2a = document.getElementById('value2a');
            const value2b = document.getElementById('value2b');
            if (value2a && value2b) {
                value2a.addEventListener('input', calculateType2);
                value2b.addEventListener('input', calculateType2);
                value2a.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        calculateType2();
                    }
                });
                value2b.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        calculateType2();
                    }
                });
            }

            // Type 3 calculator
            const value3a = document.getElementById('value3a');
            const value3b = document.getElementById('value3b');
            if (value3a && value3b) {
                value3a.addEventListener('input', calculateType3);
                value3b.addEventListener('input', calculateType3);
                value3a.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        calculateType3();
                    }
                });
                value3b.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        calculateType3();
                    }
                });
            }

            // Initial calculations
            if (percent1 && value1) calculateType1();
            if (value2a && value2b) calculateType2();
            if (value3a && value3b) calculateType3();
        });

        // Search functionality with accessibility
        const searchInput = document.getElementById('searchInput');
        const clearSearchBtn = document.getElementById('clearSearch');
        const searchIcon = document.getElementById('searchIcon');
        const searchResults = document.getElementById('searchResults');
        
        searchInput.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const toolCards = document.querySelectorAll('.tool-card');
            let visibleCount = 0;
            
            // Filter tool cards by search term and current category
            toolCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                const cardCategory = card.dataset.category;
                const matchesSearch = text.includes(searchTerm);
                const matchesCategory = currentCategory === 'all' || cardCategory === currentCategory;
                
                if (matchesSearch && matchesCategory) {
                    card.classList.remove('hidden');
                    card.style.display = 'block';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Show/hide clear button and search icon
            if (searchTerm.length > 0) {
                clearSearchBtn.classList.add('visible');
                clearSearchBtn.setAttribute('tabindex', '0');
                searchIcon.classList.add('hidden');
                
                // Announce results to screen readers
                if (visibleCount === 0) {
                    searchResults.textContent = 'No calculators found. Try a different search term.';
                } else if (visibleCount === 1) {
                    searchResults.textContent = '1 calculator found.';
                } else {
                    searchResults.textContent = visibleCount + ' calculators found.';
                }
            } else {
                clearSearchBtn.classList.remove('visible');
                clearSearchBtn.setAttribute('tabindex', '-1');
                searchIcon.classList.remove('hidden');
                searchResults.textContent = '';
            }
        });

        // Handle Enter key on search input
        searchInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                // Focus on first visible calculator
                const firstVisible = document.querySelector('.tool-card[style="display: block;"], .tool-card:not([style*="display: none"]):not(.hidden)');
                if (firstVisible) {
                    firstVisible.focus();
                }
            }
            
            // Handle Escape key to clear search
            if (e.key === 'Escape') {
                clearSearch();
            }
        });

        // Handle keyboard on clear button
        clearSearchBtn.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                clearSearch();
            }
        });

        function clearSearch() {
            const searchInput = document.getElementById('searchInput');
            const clearSearchBtn = document.getElementById('clearSearch');
            const searchIcon = document.getElementById('searchIcon');
            const searchResults = document.getElementById('searchResults');
            const toolCards = document.querySelectorAll('.tool-card');
            
            // Clear input
            searchInput.value = '';
            
            // Hide clear button, show search icon
            clearSearchBtn.classList.remove('visible');
            clearSearchBtn.setAttribute('tabindex', '-1');
            searchIcon.classList.remove('hidden');
            
            // Clear screen reader announcement
            searchResults.textContent = 'Search cleared. All calculators in the current category are now visible.';
            
            // Show all tool cards based on current category filter
            toolCards.forEach(card => {
                const cardCategory = card.dataset.category;
                const matchesCategory = currentCategory === 'all' || cardCategory === currentCategory;
                
                if (matchesCategory) {
                    card.classList.remove('hidden');
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Focus back on search input
            searchInput.focus();
        }
    </script>
</body>
</html>
